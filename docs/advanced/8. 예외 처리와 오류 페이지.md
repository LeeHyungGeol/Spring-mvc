# 8. ì˜ˆì™¸ ì²˜ë¦¬ì™€ ì˜¤ë¥˜ í˜ì´ì§€<br/>## ëª©ì°¨- ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬- ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì—ëŸ¬ í˜ì´ì§€ ë“±ë¡- ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì˜¤ë¥˜ í˜ì´ì§€ ì‘ë™ ì›ë¦¬- ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - í•„í„° - DispatcherType- ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì¸í„°ì…‰í„° - excludePathPatterns- ìŠ¤í”„ë§ ë¶€íŠ¸ - ì˜¤ë¥˜ í˜ì´ì§€1 - `/error`, `BasicErrorController`- ìŠ¤í”„ë§ ë¶€íŠ¸ - ì˜¤ë¥˜ í˜ì´ì§€2 - BasicErrorController ì˜¤ë¥˜ ì •ë³´ model<br/><br/><br/># ğŸ’¡ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ **ì„œë¸”ë¦¿ì€ ë‹¤ìŒ 2ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì§€ì›í•œë‹¤.**- `Exception`- `response.sendError(HTTP ìƒíƒœ ì½”ë“œ, ì˜¤ë¥˜ ë©”ì‹œì§€)`## âš¡ï¸Exception(ì˜ˆì™¸)**ìë°” ì§ì ‘ ì‹¤í–‰**ìë°”ì˜ ë©”ì¸ ë©”ì„œë“œë¥¼ ì§ì ‘ ì‹¤í–‰í•˜ëŠ” ê²½ìš° `main` ì´ë¼ëŠ” ì´ë¦„ì˜ ì“°ë ˆë“œê°€ ì‹¤í–‰ëœë‹¤.ì‹¤í–‰ ë„ì¤‘ì— ì˜ˆì™¸ë¥¼ ì¡ì§€ ëª»í•˜ê³  ì²˜ìŒ ì‹¤í–‰í•œ `main()` ë©”ì„œë“œë¥¼ ë„˜ì–´ì„œ ì˜ˆì™¸ê°€ ë˜ì ¸ì§€ë©´, ì˜ˆì™¸ ì •ë³´ë¥¼ ë‚¨ê¸°ê³  í•´ë‹¹ ì“°ë ˆë“œëŠ” ì¢…ë£Œëœë‹¤.**ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜**ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì‚¬ìš©ì ìš”ì²­ë³„ë¡œ ë³„ë„ì˜ ì“°ë ˆë“œê°€ í• ë‹¹ë˜ê³ , ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ ì•ˆì—ì„œ ì‹¤í–‰ëœë‹¤.ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒí–ˆëŠ”ë°, ì–´ë””ì„ ê°€ `try ~ catch`ë¡œ ì˜ˆì™¸ë¥¼ ì¡ì•„ì„œ ì²˜ë¦¬í•˜ë©´ ì•„ë¬´ëŸ° ë¬¸ì œê°€ ì—†ë‹¤.ê·¸ëŸ°ë° ë§Œì•½ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì˜ˆì™¸ë¥¼ ì¡ì§€ ëª»í•˜ê³ , ì„œë¸”ë¦¿ ë°–ìœ¼ë¡œ ê¹Œì§€ ì˜ˆì™¸ê°€ ì „ë‹¬ë˜ë©´ ì–´ë–»ê²Œ ë™ì‘í• ê¹Œ?```textWAS(ì—¬ê¸°ê¹Œì§€ ì „íŒŒ) <- í•„í„° <- ì„œë¸”ë¦¿ <- ì¸í„°ì…‰í„° <- ì»¨íŠ¸ë¡¤ëŸ¬(ì˜ˆì™¸ë°œìƒ)```- ê²°êµ­ í†°ìº£ ê°™ì€ WAS ê¹Œì§€ ì˜ˆì™¸ê°€ ì „ë‹¬ëœë‹¤.ë¨¼ì € ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì˜ˆì™¸ í˜ì´ì§€ê°€ ìˆëŠ”ë° ì´ê±´ êº¼ë‘ì**application.properties**```propertiesserver.error.whitelabel.enabled=false```**ServletExController - ì„œë¸”ë¦¿ ì˜ˆì™¸ ì»¨íŠ¸ë¡¤ëŸ¬**```java@Slf4j@Controllerpublic class ServletExController {        @GetMapping("/error-ex")    public void errorEx() {        throw new RuntimeException("ì˜ˆì™¸ ë°œìƒ!");    }}```**ê²°ê³¼**![image](https://user-images.githubusercontent.com/83503188/210796992-9d2cb549-0d50-4e7d-852e-68dcf7e44dee.png)- `Exception`ì˜ ê²½ìš° ì„œë²„ ë‚´ë¶€ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²ƒìœ¼ë¡œ ìƒê°í•´ì„œ HTTP ìƒíƒœ ì½”ë“œ 500ì„ ë°˜í™˜í•œë‹¤.- `í†°ìº£(WAS)`ê¹Œì§€ ì˜ˆì™¸ê°€ ì „ë‹¬ë˜ê³  í†°ìº£(WAS)ì´ ê¸°ë³¸ ì˜ˆì™¸ í˜ì´ì§€ë¥¼ ê·¸ë¦° ì •ë„ì´ë²ˆì—ëŠ” ì•„ë¬´ì‚¬ì´íŠ¸ë‚˜ í˜¸ì¶œí•´ë³´ì.![image](https://user-images.githubusercontent.com/83503188/210797399-c4792238-00d3-4e33-bfcc-da10a8479115.png)- í†°ìº£(WAS)ì´ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” 404 ì˜¤ë¥˜ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆë‹¤.## âš¡ï¸response.sendError(HTTP ìƒíƒœ ì½”ë“œ, ì˜¤ë¥˜ ë©”ì‹œì§€)ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ `HttpServletResponse` ê°€ ì œê³µí•˜ëŠ” `sendError` ë¼ëŠ” ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ë„ ëœë‹¤.ì´ê²ƒì„ í˜¸ì¶œí•œë‹¤ê³  ë‹¹ì¥ ì˜ˆì™¸ê°€ ë°œìƒí•˜ëŠ” ê²ƒì€ ì•„ë‹ˆì§€ë§Œ, ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì—ê²Œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤ëŠ” ì ì„ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.ì´ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ HTTP ìƒíƒœ ì½”ë“œì™€ ì˜¤ë¥˜ ë©”ì‹œì§€ë„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.- `response.sendError(HTTP ìƒíƒœ ì½”ë“œ)`- `response.sendError(HTTP ìƒíƒœ ì½”ë“œ, ì˜¤ë¥˜ ë©”ì‹œì§€)`**ServletExController - ì¶”ê°€**```java@GetMapping("/error-404")public void error404(HttpServletResponse response) throws IOException {    response.sendError(404, "404 ì˜¤ë¥˜!");}@GetMapping("/error-500")public void error500(HttpServletResponse response) throws IOException {    response.sendError(500);}```**ê²°ê³¼**![image](https://user-images.githubusercontent.com/83503188/210798629-c74d46da-3981-4ae0-aded-ec0437630f3e.png)![image](https://user-images.githubusercontent.com/83503188/210798649-4f7cc59f-d4cb-4482-af7b-eb42b11053d2.png)## **âš¡ï¸sendError íë¦„**```textWAS(sendError í˜¸ì¶œ ê¸°ë¡ í™•ì¸) <- í•„í„° <- ì„œë¸”ë¦¿ <- ì¸í„°ì…‰í„° <- ì»¨íŠ¸ë¡¤ëŸ¬(response.sendError())```- `response.sendError()` ë¥¼ í˜¸ì¶œí•˜ë©´ `response` ë‚´ë¶€ì—ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤ëŠ” ìƒíƒœë¥¼ ì €ì¥í•´ë‘”ë‹¤.- ê·¸ë¦¬ê³  ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆëŠ” ê³ ê°ì—ê²Œ ì‘ë‹µ ì „ì— `response` ì— `sendError()` ê°€ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.- ê·¸ë¦¬ê³  í˜¸ì¶œë˜ì—ˆë‹¤ë©´ ì„¤ì •í•œ ì˜¤ë¥˜ ì½”ë“œì— ë§ì¶”ì–´ ê¸°ë³¸ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ë³´ì—¬ì¤€ë‹¤.ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì˜ˆì™¸ ì²˜ë¦¬ í™”ë©´ì€ ì‚¬ìš©ìê°€ ë³´ê¸°ì— ë¶ˆí¸í•˜ë‹¤. ì˜ë¯¸ ìˆëŠ” ì˜¤ë¥˜ í™”ë©´ì„ ì œê³µí•´ë³´ì.<br/><br/><br/># ğŸ’¡ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì—ëŸ¬ í˜ì´ì§€ ë“±ë¡ì„œë¸”ë¦¿ì´ ì œê³µí•˜ëŠ” ì˜¤ë¥˜ í™”ë©´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ë³´ì.ì„œë¸”ë¦¿ì€ `Exception` (ì˜ˆì™¸)ê°€ ë°œìƒí•´ì„œ ì„œë¸”ë¦¿ ë°–ìœ¼ë¡œ ì „ë‹¬ë˜ê±°ë‚˜ ë˜ëŠ” `response.sendError()` ê°€ í˜¸ì¶œ ë˜ì—ˆì„ ë•Œ ê°ê°ì˜ ìƒí™©ì— ë§ì¶˜ ì˜¤ë¥˜ ì²˜ë¦¬ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ì¹œì ˆí•œ ì˜¤ë¥˜ ì²˜ë¦¬ í™”ë©´ì„ ì¤€ë¹„í•´ì„œ ê³ ê°ì—ê²Œ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤.ê³¼ê±°ì—ëŠ” `web.xml` ì´ë¼ëŠ” íŒŒì¼ì— ë‹¤ìŒê³¼ ê°™ì´ ì˜¤ë¥˜ í™”ë©´ì„ ë“±ë¡í–ˆë‹¤.```xml<web-app>    <error-page>        <error-code>404</error-code>        <location>/error-page/404.html</location>    </error-page>    <error-page>        <error-code>500</error-code>        <location>/error-page/500.html</location>    </error-page>    <error-page>        <exception-type>java.lang.RuntimeException</exception-type>        <location>/error-page/500.html</location>    </error-page></web-app>```ì§€ê¸ˆì€ **ìŠ¤í”„ë§ ë¶€íŠ¸**ë¥¼ í†µí•´ì„œ **ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ**ë¥¼ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì—, ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ì„œ ì„œë¸”ë¦¿ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ë“±ë¡í•˜ë©´ ëœë‹¤.## **âš¡ï¸ì„œë¸”ë¦¿ ì˜¤ë¥˜ í˜ì´ì§€ ë“±ë¡**> ì•„ë˜ ì½”ë“œëŠ” ë­”ê°€ ê¹Šì€ ì˜ë¯¸ê°€ ìˆë‹¤ê¸° ë³´ë‹¤ëŠ” `ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ`ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ê¸° ë–„ë¬¸ì— ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.> > ì´ë¦„ ê·¸ëŒ€ë¡œ ì›¹ì„œë²„ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ëŠ” ê²ƒì´ë‹¤. ì§€ê¸ˆì€ ì›í•˜ëŠ” ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ë“±ë¡í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•œë‹¤.```java@Componentpublic class WebServerCustomizer implements WebServerFactoryCustomizer<ConfigurableWebServerFactory> {    @Override    public void customize(ConfigurableWebServerFactory factory) {        ErrorPage errorPage404 = new ErrorPage(HttpStatus.NOT_FOUND, "/error-page/404");        ErrorPage errorPage500 = new ErrorPage(HttpStatus.INTERNAL_SERVER_ERROR, "/error-page/500");        ErrorPage errorPageEx = new ErrorPage(RuntimeException.class, "/error-page/500");        factory.addErrorPages(errorPage404, errorPage500, errorPageEx);    }}```- `response.sendError(404)` : errorPage404 í˜¸ì¶œ- `response.sendError(500)` : errorPage500 í˜¸ì¶œ- **`RuntimeException` ë˜ëŠ” ê·¸ ìì‹ íƒ€ì…ì˜ ì˜ˆì™¸**: errorPageEx í˜¸ì¶œì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í•„ìš”í•˜ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ `RuntimeException` ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ `errorPageEx` ì—ì„œ ì§€ì •í•œ `/error-page/500` ì´ í˜¸ì¶œëœë‹¤.```java@Slf4j@Controllerpublic class ErrorPageController {    @GetMapping("/error-page/404")    public String errorPage404(HttpServletRequest request, HttpServletResponse response) {        log.info("errorPage 404");        return "error-page/404";    }    @GetMapping("/error-page/500")    public String errorPage500(HttpServletRequest request, HttpServletResponse response) {        log.info("errorPage 500");        return "error-page/500";    }}```<details><summary>ì˜¤ë¥˜ ì²˜ë¦¬ View</summary>**ì˜¤ë¥˜ ì²˜ë¦¬ View**`/templates/error-page/404.html````html<!DOCTYPE HTML><html xmlns:th="http://www.thymeleaf.org"><head>    <meta charset="utf-8"></head><body><div class="container" style="max-width: 600px">    <div class="py-5 text-center">        <h2>404 ì˜¤ë¥˜ í™”ë©´</h2>    </div>    <div>        <p>ì˜¤ë¥˜ í™”ë©´ ì…ë‹ˆë‹¤.</p>    </div>    <hr class="my-4"></div> <!-- /container --></body></html>````/templates/error-page/500.html````html<!DOCTYPE HTML><html xmlns:th="http://www.thymeleaf.org"><head>    <meta charset="utf-8"></head><body><div class="container" style="max-width: 600px">    <div class="py-5 text-center">        <h2>500 ì˜¤ë¥˜ í™”ë©´</h2>    </div>    <div>        <p>ì˜¤ë¥˜ í™”ë©´ ì…ë‹ˆë‹¤.</p>    </div>    <hr class="my-4"></div> <!-- /container --></body></html>```</details>**ê²°ê³¼**![image](https://user-images.githubusercontent.com/83503188/210932251-bb4c750e-5736-44b4-8839-f8d818800477.png)![image](https://user-images.githubusercontent.com/83503188/210932258-786413dc-c2a8-412b-a8cd-0f96ac279ba9.png)# ğŸ’¡ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì˜¤ë¥˜ í˜ì´ì§€ ì‘ë™ ì›ë¦¬ì„œë¸”ë¦¿ì€ `Exception` (ì˜ˆì™¸)ê°€ ë°œìƒí•´ì„œ ì„œë¸”ë¦¿ ë°–ìœ¼ë¡œ ì „ë‹¬ë˜ê±°ë‚˜ ë˜ëŠ” `response.sendError()` ê°€ í˜¸ì¶œ ë˜ì—ˆì„ ë•Œ ì„¤ì •ëœ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì°¾ëŠ”ë‹¤.### **ğŸ”‹ì˜ˆì™¸ ë°œìƒ íë¦„**```textWAS(ì—¬ê¸°ê¹Œì§€ ì „íŒŒ) <- í•„í„° <- ì„œë¸”ë¦¿ <- ì¸í„°ì…‰í„° <- ì»¨íŠ¸ë¡¤ëŸ¬(ì˜ˆì™¸ë°œìƒ)```### **ğŸ”‹sendError íë¦„**```textWAS(sendError í˜¸ì¶œ ê¸°ë¡ í™•ì¸) <- í•„í„° <- ì„œë¸”ë¦¿ <- ì¸í„°ì…‰í„° <- ì»¨íŠ¸ë¡¤ëŸ¬(response.sendError())```WASëŠ” í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì˜¤ë¥˜ í˜ì´ì§€ ì •ë³´ë¥¼ í™•ì¸í•œë‹¤.- `new ErrorPage(RuntimeException.class, "/error-page/500")`ì˜ˆë¥¼ ë“¤ì–´ì„œ `RuntimeException` ì˜ˆì™¸ê°€ `WAS`ê¹Œì§€ ì „ë‹¬ë˜ë©´, WASëŠ” ì˜¤ë¥˜ í˜ì´ì§€ ì •ë³´ë¥¼ í™•ì¸í•œë‹¤.í™•ì¸í•´ë³´ë‹ˆ `RuntimeException` ì˜ ì˜¤ë¥˜ í˜ì´ì§€ë¡œ `/error-page/500` ì´ ì§€ì •ë˜ì–´ ìˆë‹¤.WASëŠ” ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•´ `/error-page/500` ë¥¼ ë‹¤ì‹œ ìš”ì²­í•œë‹¤.### **ğŸ”‹ì˜¤ë¥˜ í˜ì´ì§€ ìš”ì²­ íë¦„**```textWAS `/error-page/500` ë‹¤ì‹œ ìš”ì²­ -> í•„í„° -> ì„œë¸”ë¦¿ -> ì¸í„°ì…‰í„° -> ì»¨íŠ¸ë¡¤ëŸ¬(/error-page/500) -> View```### **ğŸ”‹ì˜ˆì™¸ ë°œìƒê³¼ ì˜¤ë¥˜ í˜ì´ì§€ ìš”ì²­ íë¦„**```text1. WAS(ì—¬ê¸°ê¹Œì§€ ì „íŒŒ) <- í•„í„° <- ì„œë¸”ë¦¿ <- ì¸í„°ì…‰í„° <- ì»¨íŠ¸ë¡¤ëŸ¬(ì˜ˆì™¸ë°œìƒ)2. WAS `/error-page/500` ë‹¤ì‹œ ìš”ì²­ -> í•„í„° -> ì„œë¸”ë¦¿ -> ì¸í„°ì…‰í„° -> ì»¨íŠ¸ë¡¤ëŸ¬(/error-page/500) -> View```ì¤‘ìš”í•œ ì ì€ ì›¹ ë¸Œë¼ìš°ì €(í´ë¼ì´ì–¸íŠ¸)ëŠ” ì„œë²„ ë‚´ë¶€ì—ì„œ ì´ëŸ° ì¼ì´ ì¼ì–´ë‚˜ëŠ”ì§€ ì „í˜€ ëª¨ë¥¸ë‹¤ëŠ” ì ì´ë‹¤.  **ì˜¤ì§ `ì„œë²„ ë‚´ë¶€`ì—ì„œ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì°¾ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ í˜¸ì¶œì„ í•œë‹¤.**<br/>## âš¡ï¸ì •ë¦¬1. ì˜ˆì™¸ê°€ ë°œìƒí•´ì„œ WASê¹Œì§€ ì „íŒŒëœë‹¤.2. WASëŠ” ì˜¤ë¥˜ í˜ì´ì§€ ê²½ë¡œë¥¼ ì°¾ì•„ì„œ ë‚´ë¶€ì—ì„œ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ í˜¸ì¶œí•œë‹¤. ì´ë•Œ **ì˜¤ë¥˜ í˜ì´ì§€ ê²½ë¡œë¡œ í•„í„°, ì„œë¸”ë¦¿, ì¸í„°ì…‰í„°, ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ëª¨ë‘ ë‹¤ì‹œ í˜¸ì¶œ**ëœë‹¤.<br/><br/>## âš¡ï¸ì˜¤ë¥˜ ì •ë³´ ì¶”ê°€WASëŠ” ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ë‹¨ìˆœíˆ ë‹¤ì‹œ ìš”ì²­ë§Œ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼,  ì˜¤ë¥˜ ì •ë³´ë¥¼ `request` ì˜ `attribute` ì— ì¶”ê°€í•´ì„œ ë„˜ê²¨ì¤€ë‹¤.**ErrorPageController - ì˜¤ë¥˜ ì¶œë ¥**```java@Slf4j@Controllerpublic class ErrorPageController {    //RequestDispatcher ìƒìˆ˜ë¡œ ì •ì˜ë˜ì–´ ìˆìŒ    public static final String ERROR_EXCEPTION = "jakarta.servlet.error.exception";    public static final String ERROR_EXCEPTION_TYPE = "jakarta.servlet.error.exception_type";    public static final String ERROR_MESSAGE = "jakarta.servlet.error.message";    public static final String ERROR_REQUEST_URI = "jakarta.servlet.error.request_uri";    public static final String ERROR_SERVLET_NAME = "jakarta.servlet.error.servlet_name";    public static final String ERROR_STATUS_CODE = "jakarta.servlet.error.status_code";    @GetMapping("/error-page/404")    public String errorPage404(HttpServletRequest request, HttpServletResponse response) {        log.info("errorPage 404");        printErrorInfo(request);        return "error-page/404";    }    @GetMapping("/error-page/500")    public String errorPage500(HttpServletRequest request, HttpServletResponse response) {        log.info("errorPage 500");        printErrorInfo(request);        return "error-page/500";    }    private void printErrorInfo(HttpServletRequest request) {        log.info("ERROR_EXCEPTION: ex=", request.getAttribute(RequestDispatcher.ERROR_EXCEPTION));        log.info("ERROR_EXCEPTION_TYPE: {}", request.getAttribute(RequestDispatcher.ERROR_EXCEPTION_TYPE));        log.info("ERROR_MESSAGE: {}", request.getAttribute(RequestDispatcher.ERROR_MESSAGE));        log.info("ERROR_REQUEST_URI: {}", request.getAttribute(RequestDispatcher.ERROR_REQUEST_URI));        log.info("ERROR_SERVLET_NAME: {}", request.getAttribute(RequestDispatcher.ERROR_SERVLET_NAME));        log.info("ERROR_STATUS_CODE: {}", request.getAttribute(RequestDispatcher.ERROR_STATUS_CODE));        log.info("dispatchType={}", request.getDispatcherType());//        request.getAttributeNames().asIterator().forEachRemaining(attributeName -> System.out.println(//            "attributeName = " + attributeName + " ,value = " + request.getAttribute(attributeName)));    }}```- `request.getDispatcherType()`ì€ ë’¤ì—ì„œ ì„¤ëª…**request.attributeì— ì„œë²„ê°€ ë‹´ì•„ì¤€ ì •ë³´**- `javax.servlet.error.exception` : ì˜ˆì™¸- `javax.servlet.error.exception_type` : ì˜ˆì™¸ íƒ€ì…- `javax.servlet.error.message` : ì˜¤ë¥˜ ë©”ì‹œì§€- `javax.servlet.error.request_uri` : í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ URI- `javax.servlet.error.servlet_name` : ì˜¤ë¥˜ê°€ ë°œìƒí•œ ì„œë¸”ë¦¿ ì´ë¦„- `javax.servlet.error.status_code` : HTTP ìƒíƒœ ì½”ë“œ**ê²°ê³¼**![á„‹á…©á„…á…² á„‘á…¦á„‹á…µá„Œá…µ á„Œá…¡á†¨á„ƒá…©á†¼á„‹á…¯á†«á„…á…µ example](https://github.com/LeeHyungGeol/Algorithm_BaekJoon/assets/56071088/647e38c5-ad68-44c5-b37c-dfa3ee9ab463)<br/><br/>### â­ï¸ì˜ˆì™¸(Exception) ë¥¼ log ë¡œ ì¶œë ¥í•  ë•Œ `{}` ì‚¬ìš© X`log`ë¥¼ ì¶œë ¥í•  ë•Œ **ì˜ˆì™¸**ëŠ” `{}` ì—†ì´ ë§ˆì§€ë§‰ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¸°ë©´ ë©ë‹ˆë‹¤.   ì´ ê²½ìš° ë„˜ì–´ì˜¤ëŠ” ê°’ì´ ì˜ˆì™¸ì´ê¸° ë•Œë¬¸ì— {}ë¥¼ ì‚¬ìš©í•˜ë©´ ì•ˆë©ë‹ˆë‹¤.   ê·¸ëŸ¬ë©´ ë‹¤ìŒê³¼ ê°™ì´ {}ë§Œ ì¶œë ¥ë˜ê³  ë‹¤ìŒì¤„ì— ì˜ˆì™¸ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.```ERROR_EXCEPTION: {}ì˜ˆì™¸ ì •ë³´ ì¶œë ¥```<br/><br/><br/># ğŸ’¡ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - í•„í„° - DispatcherType**ì˜ˆì™¸ ë°œìƒê³¼ ì˜¤ë¥˜ í˜ì´ì§€ ìš”ì²­ íë¦„**```text1. WAS(ì—¬ê¸°ê¹Œì§€ ì „íŒŒ) <- í•„í„° <- ì„œë¸”ë¦¿ <- ì¸í„°ì…‰í„° <- ì»¨íŠ¸ë¡¤ëŸ¬(ì˜ˆì™¸ë°œìƒ)2. WAS `/error-page/500` ë‹¤ì‹œ ìš”ì²­ -> í•„í„° -> ì„œë¸”ë¦¿ -> ì¸í„°ì…‰í„° -> ì»¨íŠ¸ë¡¤ëŸ¬(/error-page/500) -> View```ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•´ WAS ë‚´ë¶€ì—ì„œ ë‹¤ì‹œ í•œë²ˆ í˜¸ì¶œì´ ë°œìƒí•œë‹¤.ì´ë•Œ í•„í„°, ì„œë¸”ë¦¿, ì¸í„°ì…‰í„°ë„ ëª¨ë‘ ë‹¤ì‹œ í˜¸ì¶œëœë‹¤. ê·¸ëŸ°ë° ë¡œê·¸ì¸ ì¸ì¦ ì²´í¬ ê°™ì€ ê²½ìš°ë¥¼ ìƒê°í•´ë³´ë©´, ì´ë¯¸ í•œë²ˆ í•„í„°ë‚˜, ì¸í„°ì…‰í„°ì—ì„œ ë¡œê·¸ì¸ ì²´í¬ë¥¼ ì™„ë£Œí–ˆë‹¤.ë”°ë¼ì„œ ì„œë²„ ë‚´ë¶€ì—ì„œ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ í˜¸ì¶œí•œë‹¤ê³  í•´ì„œ í•´ë‹¹ í•„í„°ë‚˜ ì¸í„°ì…‰íŠ¸ê°€ í•œë²ˆ ë” í˜¸ì¶œë˜ëŠ” ê²ƒì€ ë§¤ìš° ë¹„íš¨ìœ¨ì ì´ë‹¤.ê²°êµ­ í´ë¼ì´ì–¸íŠ¸ë¡œ ë¶€í„° ë°œìƒí•œ ì •ìƒ ìš”ì²­ì¸ì§€, ì•„ë‹ˆë©´ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•œ ë‚´ë¶€ ìš”ì²­ì¸ì§€ êµ¬ë¶„í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.ì„œë¸”ë¦¿ì€ ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `DispatcherType` ì´ë¼ëŠ” ì¶”ê°€ ì •ë³´ë¥¼ ì œê³µí•œë‹¤.## âš¡ï¸DispatcherType> `ï¸DispatcherType` : ìš”ì²­ì´ ì–´ë–¤ ìƒí™©ì—ì„œ ë°œìƒí–ˆëŠ”ì§€ ë‚˜íƒ€ë‚´ì£¼ëŠ” ê°’ (ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆê°€ ì œê³µ)í•„í„°ëŠ” ì´ëŸ° ê²½ìš°ë¥¼ ìœ„í•´ì„œ `dispatcherTypes` ë¼ëŠ” ì˜µì…˜ì„ ì œê³µí•œë‹¤.`log.info("dispatchType={}", request.getDispatcherType())`ë¥¼ ì¶œë ¥í•´ë³´ë©´ ì˜¤ë¥˜ í˜ì´ì§€ì—ì„œ `dispatchType=ERROR` ë¡œ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.ê³ ê°ì´ ì²˜ìŒ ìš”ì²­í•˜ë©´ `dispatcherType=REQUEST` ì´ë‹¤.  ì´ë ‡ë“¯ ì„œë¸”ë¦¿ ìŠ¤í™ì€ ì‹¤ì œ ê³ ê°ì´ ìš”ì²­í•œ ê²ƒì¸ì§€, ì„œë²„ê°€ ë‚´ë¶€ì—ì„œ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ìš”ì²­í•˜ëŠ” ê²ƒì¸ì§€ `DispatcherType` ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤.`jakarta.servlet.DispatcherType````javapublic enum DispatcherType {    FORWARD,    INCLUDE,    REQUEST,    ASYNC,    ERROR}```**DispatcherType**- `REQUEST` : í´ë¼ì´ì–¸íŠ¸ ìš”ì²­- `ERROR` : ì„œë²„ ë‚´ë¶€ì—ì„œ ì˜¤ë¥˜ ìš”ì²­- `FORWARD` : MVCì—ì„œ ë°°ì› ë˜ ì„œë¸”ë¦¿ì—ì„œ ë‹¤ë¥¸ ì„œë¸”ë¦¿ì´ë‚˜ JSPë¥¼ í˜¸ì¶œí•  ë•Œ    - `RequestDispatcher.forward(request, response);`- `INCLUDE` : ì„œë¸”ë¦¿ì—ì„œ ë‹¤ë¥¸ ì„œë¸”ë¦¿ì´ë‚˜ JSPì˜ ê²°ê³¼ë¥¼ í¬í•¨í•  ë•Œ    - `RequestDispatcher.include(request, response);`- `ASYNC` : ì„œë¸”ë¦¿ ë¹„ë™ê¸° í˜¸ì¶œ<br/>## âš¡ï¸í•„í„°ì™€ DispatcherType**LogFilter - DispatcherType ë¡œê·¸ ì¶”ê°€**```java@Overridepublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {    HttpServletRequest httpRequest = (HttpServletRequest) request;    String requestURI = httpRequest.getRequestURI();    String uuid = UUID.randomUUID().toString();    try {        log.info("REQUEST [{}][{}][{}]", uuid, request.getDispatcherType(), requestURI);        chain.doFilter(request, response);    } catch (Exception e) {        throw e;    } finally {        log.info("RESPONSE [{}][{}][{}]", uuid,                request.getDispatcherType(), requestURI);    }}```**WebConfig**```java@Configurationpublic class WebConfig implements WebMvcConfigurer {    @Bean    public FilterRegistrationBean logFilter() {        FilterRegistrationBean<Filter> filterRegistrationBean = new FilterRegistrationBean<>();        filterRegistrationBean.setFilter(new LogFilter());        filterRegistrationBean.setOrder(1);        filterRegistrationBean.addUrlPatterns("/*");        filterRegistrationBean.setDispatcherTypes(DispatcherType.REQUEST, DispatcherType.ERROR);        return filterRegistrationBean;    }}```- `filterRegistrationBean.setDispatcherTypes(DispatcherType.REQUEST, DispatcherType.ERROR);`    - ì´ë ‡ê²Œ ë‘ ê°€ì§€ë¥¼ ëª¨ë‘ ë„£ìœ¼ë©´ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì€ ë¬¼ë£¬ì´ê³ , ì˜¤ë¥˜ í˜ì´ì§€ ìš”ì²­ì—ì„œë„ í•„í„°ê°€ í˜¸ì¶œëœë‹¤.    - ì•„ë¬´ê²ƒë„ ë„£ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ê°’ì´ `DispatcherType.REQUEST` ì´ë‹¤. ì¦‰, í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ í•„í„°ê°€ ì ìš©ëœë‹¤.ì˜¤ë¥˜ í˜ì´ì§€ ìš”ì²­ ì „ìš© í•„í„°ë¥¼ ì ìš©í•˜ê³  ì‹¶ìœ¼ë©´ `DispatcherType.ERROR` ë§Œ ì§€ì •í•˜ë©´ ëœë‹¤.**ê²°ê³¼**![DispatcherType á„‹á…¨á„‰á…µ](https://github.com/LeeHyungGeol/Algorithm_BaekJoon/assets/56071088/40addbe9-4424-4de2-ba0d-5520ee991fff)<br/><br/><br/># ğŸ’¡ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì¸í„°ì…‰í„° - excludePathPatterns## ì¸í„°ì…‰í„° ì¤‘ë³µ í˜¸ì¶œ ì œê±°**LogInterceptor - DispatcherType ë¡œê·¸ ì¶”ê°€**```java@Slf4jpublic class LogInterceptor implements HandlerInterceptor {    public static final String LOG_ID = "logId";    @Override    public boolean preHandle(HttpServletRequest request, HttpServletResponse            response, Object handler) throws Exception {        String requestURI = request.getRequestURI();        String uuid = UUID.randomUUID().toString();        request.setAttribute(LOG_ID, uuid);        log.info("REQUEST [{}][{}][{}][{}]", uuid, request.getDispatcherType(), requestURI, handler);        return true;    }    @Override    public void postHandle(HttpServletRequest request, HttpServletResponse            response, Object handler, ModelAndView modelAndView) throws Exception {        log.info("postHandle [{}]", modelAndView);    }    @Override    public void afterCompletion(HttpServletRequest request, HttpServletResponse            response, Object handler, Exception ex) throws Exception {        String requestURI = request.getRequestURI();        String logId = (String)request.getAttribute(LOG_ID);        log.info("RESPONSE [{}][{}][{}]", logId, request.getDispatcherType(), requestURI);        if (ex != null) {            log.error("afterCompletion error!!", ex);        }    }}```ì•ì„œ í•„í„°ì˜ ê²½ìš°ì—ëŠ” í•„í„°ë¥¼ ë“±ë¡í•  ë•Œ ì–´ë–¤ `DispatcherType` ì¸ ê²½ìš°ì— í•„í„°ë¥¼ ì ìš©í•  ì§€ ì„ íƒí•  ìˆ˜ ìˆì—ˆë‹¤.ê·¸ëŸ°ë° ì¸í„°ì…‰í„°ëŠ” ì„œë¸”ë¦¿ì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ ì•„ë‹ˆë¼ **ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥**ì´ë‹¤.ë”°ë¼ì„œ `DispatcherType` ê³¼ ë¬´ê´€í•˜ê²Œ í•­ìƒ í˜¸ì¶œëœë‹¤.ëŒ€ì‹ ì— ì¸í„°ì…‰í„°ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìš”ì²­ ê²½ë¡œì— ë”°ë¼ì„œ ì¶”ê°€í•˜ê±°ë‚˜ ì œì™¸í•˜ê¸° ì‰½ê²Œ ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, ì´ëŸ¬í•œ ì„¤ì •ì„ ì‚¬ìš©í•´ì„œ ì˜¤ë¥˜ í˜ì´ì§€ ê²½ë¡œë¥¼ `excludePathPatterns` ë¥¼ ì‚¬ìš©í•´ì„œ ë¹¼ì£¼ë©´ ëœë‹¤.```java@Overridepublic void addInterceptors(InterceptorRegistry registry) {    registry.addInterceptor(new LogInterceptor())            .order(1)            .addPathPatterns("/**")            .excludePathPatterns(                "/css/**", "/*.ico", "/error", "/error-page/**" //ì˜¤ë¥˜ í˜ì´ì§€ ê²½ë¡œ);}````excludePathPatterns` ì—ì„œ `"/error-page/**"` ë¹¼ë©´ ì•„ë˜ì™€ ê°™ì´ ì˜¤ë¥˜ í˜ì´ì§€ í˜¸ì¶œì— ëŒ€í•œ ë¡œê·¸ë„ ë‚¨ê²Œ ëœë‹¤.![image](https://user-images.githubusercontent.com/83503188/210937085-d4b8a71f-65f5-4e5a-b08e-7aff823a001e.png)<br/><br/>## âš¡ï¸ì „ì²´ íë¦„ ì •ë¦¬> `/error-ex ì˜¤ë¥˜ ìš”ì²­`> - í•„í„°ëŠ” `DispatchType` ìœ¼ë¡œ ì¤‘ë³µ í˜¸ì¶œ ì œê±° ( `dispatchType=REQUEST` )> - ì¸í„°ì…‰í„°ëŠ” ê²½ë¡œ ì •ë³´ë¡œ ì¤‘ë³µ í˜¸ì¶œ ì œê±°( `excludePathPatterns("/error-page/**")` )`/hello` ì •ìƒ ìš”ì²­```textWAS(/hello, dispatchType=REQUEST) -> í•„í„° -> ì„œë¸”ë¦¿ -> ì¸í„°ì…‰í„° -> ì»¨íŠ¸ë¡¤ëŸ¬ -> View````/error-ex ì˜¤ë¥˜ ìš”ì²­`- í•„í„°ëŠ” `DispatchType` ìœ¼ë¡œ ì¤‘ë³µ í˜¸ì¶œ ì œê±° ( `dispatchType=REQUEST` )- ì¸í„°ì…‰í„°ëŠ” ê²½ë¡œ ì •ë³´ë¡œ ì¤‘ë³µ í˜¸ì¶œ ì œê±°( `excludePathPatterns("/error-page/**")` )- DispatcherServlet ì€ ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  ìš”ì²­ì„ ë‹¤ ë°›ë„ë¡ ì„¤ê³„ë˜ì–´ ìˆë‹¤.```text1. WAS(/error-ex, dispatchType=REQUEST) -> í•„í„° -> ì„œë¸”ë¦¿ -> ì¸í„°ì…‰í„° -> ì»¨íŠ¸ë¡¤ëŸ¬2. WAS(ì—¬ê¸°ê¹Œì§€ ì „íŒŒ) <- í•„í„° <- ì„œë¸”ë¦¿ <- ì¸í„°ì…‰í„° <- ì»¨íŠ¸ë¡¤ëŸ¬(ì˜ˆì™¸ë°œìƒ)3. WAS ì˜¤ë¥˜ í˜ì´ì§€ í™•ì¸4. WAS(/error-page/500, dispatchType=ERROR) -> í•„í„°(x) -> ì„œë¸”ë¦¿ -> ì¸í„°ì…‰í„°(x) ->ì»¨íŠ¸ë¡¤ëŸ¬(/error-page/500) -> View```<br/><br/><br/># ìŠ¤í”„ë§ ë¶€íŠ¸ - ì˜¤ë¥˜ í˜ì´ì§€1 - `/error`, `BasicErrorController`ì§€ê¸ˆê¹Œì§€ ì„œë¸”ë¦¿ì„ í†µí•´ ì˜ˆì™¸ ì²˜ë¦¬ í˜ì´ì§€ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë³µì¡í•œ ê³¼ì •ì„ ê±°ì³¤ë‹¤.- `WebServerCustomizer` ë¥¼ ë§Œë“¤ê³ - ì˜ˆì™¸ ì¢…ë¥˜ì— ë”°ë¼ì„œ `ErrorPage` ë¥¼ ì¶”ê°€í•˜ê³ - ì˜ˆì™¸ ì²˜ë¦¬ìš© ì»¨íŠ¸ë¡¤ëŸ¬ `ErrorPageController` ë¥¼ ë§Œë“¬<br/>## **âš¡ï¸ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ "/error", BasicErrorController****ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ì´ëŸ° ê³¼ì •ì„ ëª¨ë‘ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•œë‹¤.**`ErrorPage` ë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•œë‹¤. ì´ë•Œ `/error` ë¼ëŠ” ê²½ë¡œë¡œ ê¸°ë³¸ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì„¤ì •í•œë‹¤.- `new ErrorPage("/error")` , ìƒíƒœì½”ë“œì™€ ì˜ˆì™¸ë¥¼ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ì˜¤ë¥˜ í˜ì´ì§€ë¡œ ì‚¬ìš©ëœë‹¤.- ì„œë¸”ë¦¿ ë°–ìœ¼ë¡œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ê±°ë‚˜, `response.sendError(...)` ê°€ í˜¸ì¶œë˜ë©´ ëª¨ë“  ì˜¤ë¥˜ëŠ” `/error` ë¥¼ í˜¸ì¶œí•˜ê²Œ ëœë‹¤.`BasicErrorController` ë¼ëŠ” ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•œë‹¤.- `ErrorPage` ì—ì„œ ë“±ë¡í•œ `/error` ë¥¼ ë§¤í•‘í•´ì„œ ì²˜ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë‹¤.![image](https://user-images.githubusercontent.com/83503188/210939912-a28d4225-0e2c-48b8-96b1-57be324563a8.png)- `@RequestMapping("${server.error.path:${error.path:/error}}")`: ì™¸ë¶€ì—ì„œ `server.error.path` ê°’ì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ `/error` ì‚¬ìš©> ì°¸ê³ >> `ErrorMvcAutoConfiguration` ì´ë¼ëŠ” í´ë˜ìŠ¤ê°€ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ëŠ” ì—­í• ì„ í•œë‹¤.<br/>## **âš¡ï¸ê°œë°œìëŠ” ì˜¤ë¥˜ í˜ì´ì§€ë§Œ ë“±ë¡**`BasicErrorController` ëŠ” ê¸°ë³¸ì ì¸ ë¡œì§ì´ ëª¨ë‘ ê°œë°œë˜ì–´ ìˆë‹¤.ê°œë°œìëŠ” ì˜¤ë¥˜ í˜ì´ì§€ í™”ë©´ë§Œ `BasicErrorController` ê°€ ì œê³µí•˜ëŠ” ë£°ê³¼ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ì„œ ë“±ë¡í•˜ë©´ ëœë‹¤.ì •ì  HTMLì´ë©´ ì •ì  ë¦¬ì†ŒìŠ¤, ë·° í…œí”Œë¦¿ì„ ì‚¬ìš©í•´ì„œ ë™ì ìœ¼ë¡œ ì˜¤ë¥˜ í™”ë©´ì„ ë§Œë“¤ê³  ì‹¶ìœ¼ë©´ ë·° í…œí”Œë¦¿ ê²½ë¡œì— ì˜¤ë¥˜ í˜ì´ì§€ íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ë„£ì–´ë‘ê¸°ë§Œ í•˜ë©´ ëœë‹¤.<br/>## **âš¡ï¸ë·° ì„ íƒ ìš°ì„ ìˆœìœ„**`BasicErrorController` ì˜ ì²˜ë¦¬ ìˆœì„œ1. ë·° í…œí”Œë¦¿    - `resources/templates/error/500.html`    - `resources/templates/error/5xx.html`2. ì •ì  ë¦¬ì†ŒìŠ¤( `static` , `public` )    - `resources/static/error/400.html`    - `resources/static/error/404.html`    - `resources/static/error/4xx.html`3. ì ìš© ëŒ€ìƒì´ ì—†ì„ ë•Œ ë·° ì´ë¦„( `error` )    - `resources/templates/error.html`í•´ë‹¹ ê²½ë¡œ ìœ„ì¹˜ì— HTTP ìƒíƒœ ì½”ë“œ ì´ë¦„ì˜ ë·° íŒŒì¼ì„ ë„£ì–´ë‘ë©´ ëœë‹¤.ë·° í…œí”Œë¦¿ì´ ì •ì  ë¦¬ì†ŒìŠ¤ë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ê³ , 404, 500ì²˜ëŸ¼ êµ¬ì²´ì ì¸ ê²ƒì´ 5xxì²˜ëŸ¼ ëœ êµ¬ì²´ì ì¸ ê²ƒ ë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ë‹¤.5xx, 4xx ë¼ê³  í•˜ë©´ 500ëŒ€, 400ëŒ€ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•´ì¤€ë‹¤.**ë“±ë¡í•œ ì˜¤ë¥˜ í˜ì´ì§€**`resources/templates/error/4xx.html``resources/templates/error/404.html``resources/templates/error/500.html`**í…ŒìŠ¤íŠ¸**1. http://localhost:8080/error-404 -> `404.html`![image](https://user-images.githubusercontent.com/83503188/210938844-1b440bd1-6635-4927-a6b9-80bd4e4b1c1c.png)2. http://localhost:8080/error-400 -> `4xx.html` (400 ì˜¤ë¥˜ í˜ì´ì§€ê°€ ì—†ì§€ë§Œ 4xxê°€ ìˆìŒ)![image](https://user-images.githubusercontent.com/83503188/210940493-03cf830e-8c70-4984-adbd-dfb9d4a1ac77.png)3. http://localhost:8080/error-500 -> `500.html`![image](https://user-images.githubusercontent.com/83503188/210939035-5c2a7e12-38c3-499b-aad7-a21f40f06dfd.png)4. http://localhost:8080/error-ex -> `500.html` (ì˜ˆì™¸ëŠ” 500ìœ¼ë¡œ ì²˜ë¦¬)![image](https://user-images.githubusercontent.com/83503188/210939077-361d158e-1914-441c-8235-5526288f2c79.png)5. http://localhost:8080/error-403![image](https://user-images.githubusercontent.com/83503188/210940555-ae746a73-1267-419c-b46b-895f39f39eb2.png)- ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë°›ì„ ìˆ˜ ì—†ëŠ” URL ì´ë¯€ë¡œ ìŠ¤í”„ë§ì€ ìµœì¢…ì ìœ¼ë¡œ 404 ì˜¤ë¥˜ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤.<br/><br/><br/># ğŸ’¡ìŠ¤í”„ë§ ë¶€íŠ¸ - ì˜¤ë¥˜ í˜ì´ì§€2 - BasicErrorController ì˜¤ë¥˜ ì •ë³´ model## **âš¡ï¸BasicErrorController ê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì •ë³´ë“¤**`BasicErrorController`ëŠ” ë‹¤ìŒ ì •ë³´ë¥¼ modelì— ë‹´ì•„ì„œ ë·°ì— ì „ë‹¬í•œë‹¤. ë·° í…œí”Œë¦¿ì€ ì´ ê°’ì„ í™œìš©í•´ì„œ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤.```text* timestamp: Fri Feb 05 00:00:00 KST 2021* status: 400* error: Bad Request* exception: org.springframework.validation.BindException* trace: ì˜ˆì™¸ trace* message: Validation failed for object='data'. Error count: 1* errors: Errors(BindingResult)* path: í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ê²½ë¡œ (`/hello`)```<details><summary>ì˜¤ë¥˜ ì •ë³´ ì¶”ê°€ - `resources/templates/error/500.html`</summary>ì˜¤ë¥˜ ì •ë³´ ì¶”ê°€ - `resources/templates/error/500.html````html<!DOCTYPE HTML><html xmlns:th="http://www.thymeleaf.org"><head>    <meta charset="utf-8"></head><body><div class="container" style="max-width: 600px">    <div class="py-5 text-center">        <h2>500 ì˜¤ë¥˜ í™”ë©´ ìŠ¤í”„ë§ ë¶€íŠ¸ ì œê³µ</h2>    </div>    <ul>        <li>ì˜¤ë¥˜ ì •ë³´</li>        <ul>            <li th:text="|timestamp: ${timestamp}|"></li>            <li th:text="|path: ${path}|"></li>            <li th:text="|status: ${status}|"></li>            <li th:text="|message: ${message}|"></li>            <li th:text="|error: ${error}|"></li>            <li th:text="|exception: ${exception}|"></li>            <li th:text="|errors: ${errors}|"></li>            <li th:text="|trace: ${trace}|"></li>        </ul>        </li>    </ul>    <div>        <p>ì˜¤ë¥˜ í™”ë©´ ì…ë‹ˆë‹¤.</p>    </div>    <hr class="my-4"></div> <!-- /container --></body></html>```</details>![image](https://user-images.githubusercontent.com/83503188/210941202-2991a83b-b9fb-4e32-a053-a0ce1389ef8d.png)ì˜¤ë¥˜ ê´€ë ¨ ë‚´ë¶€ ì •ë³´ë“¤ì„ ê³ ê°ì—ê²Œ ë…¸ì¶œí•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šë‹¤. ê³ ê°ì´ í•´ë‹¹ ì •ë³´ë¥¼ ì½ì–´ë„ í˜¼ë€ë§Œ ë”í•´ì§€ê³ , ë³´ì•ˆìƒ ë¬¸ì œê°€ ë  ìˆ˜ë„ ìˆë‹¤.> **ê·¸ë˜ì„œ `BasicErrorController` ì˜¤ë¥˜ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë‹¤ìŒ ì˜¤ë¥˜ ì •ë³´ë¥¼ `model` ì— í¬í•¨í• ì§€ ì—¬ë¶€ ì„ íƒí•  ìˆ˜ ìˆë‹¤.**`application.properties`- `server.error.include-exception=false` : `exception` í¬í•¨ ì—¬ë¶€( `true` , `false` )- `server.error.include-message=never` : `message` í¬í•¨ ì—¬ë¶€- `server.error.include-stacktrace=never` : `trace` í¬í•¨ ì—¬ë¶€- `server.error.include-binding-errors=never` : `errors` í¬í•¨ ì—¬ë¶€```propertiesserver.error.include-exception=trueserver.error.include-message=on_paramserver.error.include-stacktrace=on_paramserver.error.include-binding-errors=on_param```- `never` : ì‚¬ìš©í•˜ì§€ ì•ŠìŒ- `always` :í•­ìƒ ì‚¬ìš©- `on_param` : íŒŒë¼ë¯¸í„°ê°€ ìˆì„ ë•Œ ì‚¬ìš©`on_param` ì€ íŒŒë¼ë¯¸í„°ê°€ ìˆìœ¼ë©´ í•´ë‹¹ ì •ë³´ë¥¼ ë…¸ì¶œí•œë‹¤. ë””ë²„ê·¸ ì‹œ ë¬¸ì œë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.ê·¸ëŸ°ë° ì´ ë¶€ë¶„ë„ ê°œë°œ ì„œë²„ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ìš´ì˜ ì„œë²„ì—ì„œëŠ” ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.`on_param` ìœ¼ë¡œ ì„¤ì •í•˜ê³  ë‹¤ìŒê³¼ ê°™ì´ HTTP ìš”ì²­ì‹œ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ë©´ í•´ë‹¹ ì •ë³´ë“¤ì´ `model` ì— ë‹´ê²¨ì„œ ë·° í…œí”Œë¦¿ì—ì„œ ì¶œë ¥ëœë‹¤.`message=&errors=&trace=`![image](https://user-images.githubusercontent.com/83503188/210941580-0cd86129-8eb6-4cb9-858e-7773fbbaf88b.png)**ìŠ¤í”„ë§ ë¶€íŠ¸ ì˜¤ë¥˜ ê´€ë ¨ ì˜µì…˜**- `server.error.whitelabel.enabled=true` : ì˜¤ë¥˜ ì²˜ë¦¬ í™”ë©´ì„ ëª» ì°¾ì„ ì‹œ, ìŠ¤í”„ë§ whitelabel ì˜¤ë¥˜ í˜ì´ì§€ ì ìš©- `server.error.path=/error` : ì˜¤ë¥˜ í˜ì´ì§€ ê²½ë¡œ, ìŠ¤í”„ë§ì´ ìë™ ë“±ë¡í•˜ëŠ” ì„œë¸”ë¦¿ ê¸€ë¡œë²Œ ì˜¤ë¥˜ í˜ì´ì§€ ê²½ë¡œì™€ `BasicErrorController` ì˜¤ë¥˜ ì»¨íŠ¸ë¡¤ëŸ¬ ê²½ë¡œì— í•¨ê»˜ ì‚¬ìš©ëœë‹¤.**í™•ì¥ í¬ì¸íŠ¸**ì—ëŸ¬ ê³µí†µ ì²˜ë¦¬ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ê¸°ëŠ¥ì„ ë³€ê²½í•˜ê³  ì‹¶ìœ¼ë©´ `ErrorController` ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì† ë°›ì•„ì„œ êµ¬í˜„í•˜ê±°ë‚˜ `BasicErrorController` ìƒì† ë°›ì•„ì„œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë©´ ëœë‹¤.