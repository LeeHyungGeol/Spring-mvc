# ê²€ì¦2 - Bean Validation<br/>## ëª©ì°¨- Bean Validation - ì†Œê°œ- Bean Validation - ì‹œì‘- Bean Validation - ìŠ¤í”„ë§ ì ìš© - ê¸€ë¡œë²Œ Validator(LocalValidatorFactoryBean)- Bean Validation - ì—ëŸ¬ ì½”ë“œ - MessageSource, MessageCodesResolver- Bean Validation - ì˜¤ë¸Œì íŠ¸ ì˜¤ë¥˜ - ScriptAssert(ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë¹„ì¶”)- Bean Validation - groups (ê±°ì˜ ì‚¬ìš©ì•ˆí•œë‹¤.)<br/><br/><br/># ğŸ’¡Bean Validation - ì†Œê°œ> **ê²€ì¦ ì• ë…¸í…Œì´ì…˜ê³¼ ì—¬ëŸ¬ ì¸í„°í˜ì´ìŠ¤ì˜ ëª¨ìŒ**> > ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” êµ¬í˜„ì²´ëŠ” `Hibernate Validator` ì´ë‹¤.ê²€ì¦ ê¸°ëŠ¥ì„ ì§€ê¸ˆì²˜ëŸ¼ ë§¤ë²ˆ ì½”ë“œë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì€ ìƒë‹¹íˆ ë²ˆê±°ë¡­ë‹¤. íŠ¹íˆ íŠ¹ì • í•„ë“œì— ëŒ€í•œ ê²€ì¦ ë¡œì§ì€ ëŒ€ë¶€ë¶„ ë¹ˆ ê°’ì¸ì§€ ì•„ë‹Œì§€, íŠ¹ì • í¬ê¸°ë¥¼ ë„˜ëŠ”ì§€ ì•„ë‹Œì§€ì™€ ê°™ì´ ë§¤ìš° ì¼ë°˜ì ì¸ ë¡œì§ì´ë‹¤.```javapublic class Item {        private Long id;        @NotBlank    private String itemName;        @NotNull    @Range(min = 1000, max = 1000000)    private Integer price;    @NotNull    @Max(9999)    private Integer quantity;//...}```ì´ëŸ° ê²€ì¦ ë¡œì§ì„ ëª¨ë“  í”„ë¡œì íŠ¸ì— ì ìš©í•  ìˆ˜ ìˆê²Œ ê³µí†µí™”í•˜ê³ , í‘œì¤€í™” í•œ ê²ƒì´ ë°”ë¡œ Bean Validation ì´ë‹¤.## âš¡ï¸Bean Validation ì´ë€?ë¨¼ì € Bean Validationì€ íŠ¹ì •í•œ êµ¬í˜„ì²´ê°€ ì•„ë‹ˆë¼ Bean Validation 2.0(JSR-380)ì´ë¼ëŠ” ê¸°ìˆ  í‘œì¤€ì´ë‹¤.ì‰½ê²Œ ì´ì•¼ê¸°í•´ì„œ **ê²€ì¦ ì• ë…¸í…Œì´ì…˜ê³¼ ì—¬ëŸ¬ ì¸í„°í˜ì´ìŠ¤ì˜ ëª¨ìŒ**ì´ë‹¤. ë§ˆì¹˜ JPAê°€ í‘œì¤€ ê¸°ìˆ ì´ê³  ê·¸ êµ¬í˜„ì²´ë¡œ í•˜ì´ë²„ë„¤ì´íŠ¸ê°€ ìˆëŠ” ê²ƒê³¼ ê°™ë‹¤.**Bean Validationì„ êµ¬í˜„í•œ ê¸°ìˆ ì¤‘ì— ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” êµ¬í˜„ì²´ëŠ” `Hibernate Validator` ì´ë‹¤.**- ê²€ì¦ ì• ë…¸í…Œì´ì…˜ ëª¨ìŒ: https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/#validator-defineconstraints-spec<br/><br/><br/># ğŸ’¡Bean Validation - ì‹œì‘ë¨¼ì € ìŠ¤í”„ë§ê³¼ í†µí•©í•˜ì§€ ì•Šê³ , ìˆœìˆ˜í•œ Bean Validation ì‚¬ìš©ë²• ë¶€í„° í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì•Œì•„ë³´ì.**ì˜ì¡´ê´€ê³„ ì¶”ê°€**```groovyimplementation 'org.springframework.boot:spring-boot-starter-validation'```**Item - Bean Validation ì• ë…¸í…Œì´ì…˜ ì ìš©**```java@Datapublic class Item {    private Long id;    @NotBlank    private String itemName;    @NotNull    @Range(min = 1000, max = 1000000)    private Integer price;    @NotNull    @Max(9999)    private Integer quantity;    ...}```**ê²€ì¦ ì• ë…¸í…Œì´ì…˜**- `@NotBlank`: ë¹ˆê°’ + ê³µë°±ë§Œ ìˆëŠ” ê²½ìš°ë¥¼ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.- `@NotNull`: `null`ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.- `@Range(min = 1000, max = 1000000)`: ë²”ìœ„ ì•ˆì˜ ê°’ì´ì–´ì•¼ í•œë‹¤.- `@Max(9999)`: ìµœëŒ€ 9999ê¹Œì§€ë§Œ í—ˆìš©í•œë‹¤.<details><summary>BeanValidationTest - Bean Validation í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±</summary>## **BeanValidationTest - Bean Validation í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±**```javapublic class BeanValidationTest {    @Test    void beanValidation() {        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();        Validator validator = factory.getValidator();        Item item = new Item();        item.setItemName(" "); //ê³µë°±        item.setPrice(0);        item.setQuantity(10000);        Set<ConstraintViolation<Item>> violations = validator.validate(item);        for (ConstraintViolation<Item> violation : violations) {            System.out.println("violation = " + violation);            System.out.println("violation.getMessage() = " + violation.getMessage());        }    }}```</details>**ê²€ì¦ê¸° ìƒì„± ë° ì‹¤í–‰**```javaValidatorFactory factory = Validation.buildDefaultValidatorFactory();Validator validator = factory.getValidator();Set<ConstraintViolation<Item>> violations = validator.validate(item);```- ê²€ì¦ ëŒ€ìƒ( `item` )ì„ ì§ì ‘ ê²€ì¦ê¸°ì— ë„£ê³  ê·¸ ê²°ê³¼ë¥¼ ë°›ëŠ”ë‹¤.- `Set` ì—ëŠ” `ConstraintViolation` ì´ë¼ëŠ” ê²€ì¦ ì˜¤ë¥˜ê°€ ë‹´ê¸´ë‹¤. ë”°ë¼ì„œ ê²°ê³¼ê°€ ë¹„ì–´ìˆìœ¼ë©´ ê²€ì¦ ì˜¤ë¥˜ê°€ ì—†ëŠ” ê²ƒì´ë‹¤.**ê²°ê³¼**![image](https://user-images.githubusercontent.com/83503188/210132542-c89bc1c1-e46b-45fd-a2a5-cf43f0c82b9d.png)<br/><br/><br/># ğŸ’¡Bean Validation - ìŠ¤í”„ë§ ì ìš© - ê¸€ë¡œë²Œ Validator(LocalValidatorFactoryBean)ì• Section ì—ì„œ ì ìš©í•œ ItemValidator ì‚­ì œ -> ì˜¤ë¥˜ ê²€ì¦ê¸°ê°€ ì¤‘ë³µ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸## **âš¡ï¸ìŠ¤í”„ë§ MVC, ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ì–´ë–»ê²Œ Bean Validator ë¥¼ ì‚¬ìš©?**1. ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ `spring-boot-starter-validation` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë„£ìœ¼ë©´  ìŠ¤í”„ë§ MVC ëŠ” ìë™ìœ¼ë¡œ Bean Validator ë¥¼ ì¸ì§€í•˜ê³  **ìŠ¤í”„ë§ì— í†µí•©í•œë‹¤.**2. ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” `spring-boot-starter-validation` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë„£ìœ¼ë©´ ìë™ìœ¼ë¡œ `LocalValidatorFactoryBean` ì„ ê¸€ë¡œë²Œ Validator ë¡œ ë“±ë¡í•œë‹¤.  ì´ Validator ëŠ” `@NotNull` ê°™ì€ ì• ë…¸í…Œì´ì…˜ì„ ë³´ê³  ê²€ì¦ì„ ìˆ˜í–‰í•œë‹¤.ì´ë ‡ê²Œ ê¸€ë¡œë²Œ Validator ê°€ ì ìš©ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, `@Valid` , `@Validated` ë§Œ ì ìš©í•˜ë©´ ëœë‹¤.3. Validator ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ `@Valid` , `@Validated` ê°€ í•„ìš”í•˜ë‹¤.4. ê²€ì¦ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´, `FieldError` , `ObjectError` ë¥¼ ìƒì„±í•´ì„œ `BindingResult` ì— ë‹´ì•„ì¤€ë‹¤.> ### **ì£¼ì˜!**> > ë§Œì•½ ì§ì ‘ ê¸€ë¡œë²Œ Validatorë¥¼ ë“±ë¡í•˜ë©´ ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” Bean Validatorë¥¼ ê¸€ë¡œë²Œ Validator ë¡œ ë“±ë¡í•˜ì§€ ì•ŠëŠ”ë‹¤.<br/><br/>## âš¡ï¸ê²€ì¦ ìˆœì„œ1. `@ModelAttribute` ê°ê°ì˜ í•„ë“œì— íƒ€ì… ë³€í™˜ ì‹œë„    1. ì„±ê³µí•˜ë©´ ë‹¤ìŒìœ¼ë¡œ    2. ì‹¤íŒ¨í•˜ë©´ `typeMismatch` ë¡œ `FieldError` ì¶”ê°€2. Validator ì ìš©**ë°”ì¸ë”©ì— ì„±ê³µí•œ í•„ë“œë§Œ Bean Validation ì ìš©**BeanValidatorëŠ” ë°”ì¸ë”©ì— ì‹¤íŒ¨í•œ í•„ë“œëŠ” BeanValidationì„ ì ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.`@ModelAttribute` -> ê°ê°ì˜ í•„ë“œ íƒ€ì… ë³€í™˜ì‹œë„ -> ë³€í™˜ì— ì„±ê³µí•œ í•„ë“œë§Œ BeanValidation ì ìš©**ì˜ˆ)**- `itemName` ì— ë¬¸ì "A" ì…ë ¥ -> íƒ€ì… ë³€í™˜ ì„±ê³µ -> `itemName` í•„ë“œì— BeanValidation ì ìš©- `price` ì— ë¬¸ì "A" ì…ë ¥ -> "A"ë¥¼ ìˆ«ì íƒ€ì… ë³€í™˜ ì‹œë„ ì‹¤íŒ¨ -> typeMismatch FieldError ì¶”ê°€    - price í•„ë“œëŠ” BeanValidation ì ìš© X> ### **ì°¸ê³ **>> ê²€ì¦ì‹œ `@Validated` `@Valid` ë‘˜ë‹¤ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.>> `@Validated` ëŠ” ìŠ¤í”„ë§ ì „ìš© ê²€ì¦ ì• ë…¸í…Œì´ì…˜ì´ê³ , `@Valid` ëŠ” ìë°” í‘œì¤€ ê²€ì¦ ì• ë…¸í…Œì´ì…˜ì´ë‹¤.> `@Validated` ëŠ” ë‚´ë¶€ì— `groups` ë¼ëŠ” ê¸°ëŠ¥ì„ í¬í•¨í•˜ê³  ìˆë‹¤.<br/><br/><br/># ğŸ’¡Bean Validation - ì—ëŸ¬ ì½”ë“œ - MessageSource, MessageCodesResolverBean Validationì´ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì¢€ ë” ìì„¸íˆ ë³€ê²½í•˜ê³  ì‹¶ìœ¼ë©´ ì–´ë–»ê²Œ í•˜ë©´ ë ê¹Œ?  Bean Validationì„ ì ìš©í•˜ê³  bindingResult ì— ë“±ë¡ëœ ê²€ì¦ ì˜¤ë¥˜ ì½”ë“œë¥¼ ë³´ì.![image](https://user-images.githubusercontent.com/83503188/210133373-a947ee19-ee50-426e-bdc8-091b4c476efb.png)- `codes [NotBlank.item.itemName,NotBlank.itemName,NotBlank.java.lang.String,NotBlank]`## **âš¡ï¸BeanValidation ë©”ì‹œì§€ ì°¾ëŠ” ìˆœì„œ****@NotBlank**- NotBlank.item.itemName- NotBlank.itemName- NotBlank.java.lang.String- NotBlank1. `NotBlank` ë¼ëŠ” ì˜¤ë¥˜ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ `MessageCodesResolver` ë¥¼ í†µí•´ ë‹¤ì–‘í•œ ë©”ì‹œì§€ ì½”ë“œê°€ ìˆœì„œëŒ€ë¡œ ìƒì„±ëœë‹¤.2. ìƒì„±ëœ ë©”ì‹œì§€ ì½”ë“œ ìˆœì„œëŒ€ë¡œ `messageSource` ì—ì„œ ë©”ì‹œì§€ ì°¾ê¸°3. ì• ë…¸í…Œì´ì…˜ì˜ `message` ì†ì„± ì‚¬ìš© -> `@NotBlank(message = "ê³µë°±! {0}")`4. ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ ê°’ ì‚¬ìš© -> ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.**ì• ë…¸í…Œì´ì…˜ì˜ message ì‚¬ìš© ì˜ˆ**```java@NotBlank(message = "ê³µë°±ì€ ì…ë ¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")private String itemName;```<br/><br/>## âš¡ï¸**ë©”ì‹œì§€ ë“±ë¡**`errors.properties````propertiesNotBlank.item.itemName=ìƒí’ˆ ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.NotBlank={0} ê³µë°±XRange={0}, {2} ~ {1} í—ˆìš©Max={0}, ìµœëŒ€ {1}```- `{0}`ì€ í•„ë“œëª…ì´ê³ , `{1}`, `{2}`, ...ì€ ê° ì• ë…¸í…Œì´ì…˜ ë§ˆë‹¤ ë‹¤ë¥´ë‹¤.ì‹¤í–‰í•´ë³´ë©´ ë°©ê¸ˆ ë“±ë¡í•œ ë©”ì‹œì§€ê°€ ì •ìƒ ì ìš©ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.![image](https://user-images.githubusercontent.com/83503188/210133718-ef323a3d-0a0f-4f5b-8e49-58be7ced975d.png)<br/><br/>> ### **â­ï¸ì°¸ê³ **> > index ìˆœì„œê°€ {2} ~ {1} ì¸ ì´ìœ ëŠ” Annotationì˜ ì†ì„±ì˜ ì´ë¦„ì´ ì•ŒíŒŒë²³ ìˆœì„œë¡œ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì´ë¼ê³  í•©ë‹ˆë‹¤.  > í˜„ì¬ Rangeì— Minê³¼ Max ë‘ê°€ì§€ ì†ì„±ì´ ìˆëŠ”ë°, Maxê°€ Minë³´ë‹¤ ì•ŒíŒŒë²³ ê¸°ì¤€ìœ¼ë¡œ ìš°ì„ ìˆœìœ„ê°€ ë†’ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.> > ì¶œì²˜ : https://kapentaz.github.io/spring/Spring-Boo-Bean-Validation-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EC%95%8C%EA%B3%A0-%EC%93%B0%EC%9E%90/#<br/><br/><br/># ğŸ’¡Bean Validation - ì˜¤ë¸Œì íŠ¸ ì˜¤ë¥˜ - ScriptAssert(ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë¹„ì¶”)Bean Validationì—ì„œ íŠ¹ì • í•„ë“œ( `FieldError` )ê°€ ì•„ë‹Œ í•´ë‹¹ ì˜¤ë¸Œì íŠ¸ ê´€ë ¨ ì˜¤ë¥˜( `ObjectError` )ëŠ” ì–´ë–»ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì„ê¹Œ?## âš¡ï¸ScriptAssert ë¥¼ ì´ìš©í•œ ì˜¤ë¸Œì íŠ¸ ì˜¤ë¥˜(ObjectError) ì²˜ë¦¬í•˜ëŠ” ë°©ë²• ```java@Data@ScriptAssert(lang = "javascript", script = "_this.price * _this.quantity >= 10000")public class Item {//...}```![image](https://user-images.githubusercontent.com/83503188/210133805-72b716c9-9b61-4a47-ade0-029c675431f2.png)**ë©”ì‹œì§€ ì½”ë“œ**- `ScriptAssert.item`- `ScriptAssert`ê·¸ëŸ°ë° ì‹¤ì œ ì‚¬ìš©í•´ë³´ë©´ ì œì•½ì´ ë§ê³  ë³µì¡í•˜ë‹¤.ê·¸ë¦¬ê³  ì‹¤ë¬´ì—ì„œëŠ” ê²€ì¦ ê¸°ëŠ¥ì´ í•´ë‹¹ ê°ì²´ì˜ ë²”ìœ„ë¥¼ ë„˜ì–´ì„œëŠ” ê²½ìš°ë“¤ë„ ì¢…ì¢… ë“±ì¥í•˜ëŠ”ë°, ê·¸ëŸ° ê²½ìš° ëŒ€ì‘ì´ ì–´ë µë‹¤.<br/><br/>### â­ï¸ìŠ¤í”„ë§ ë¶€íŠ¸ 3ì—ì„œëŠ” @ScriptAssertë¥¼ ì´ìš©í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ í‘œí˜„ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.ìŠ¤í”„ë§ ë¶€íŠ¸ ë²„ì „ 3.0.2 + java ë²„ì „ 17.0.6 ì„ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰ì‹œ, ì•„ë˜ì˜ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.```jakarta.validation.ConstraintDeclarationException: HV000170: No JSR-223 scripting engine could be bootstrapped for language "javascript".] with root causeorg.hibernate.validator.spi.scripting.ScriptEvaluatorNotFoundException: HV000232: No JSR 223 script engine found for language "javascript".```ì´ìœ ê°€ ê¶ê¸ˆí•´ì„œ ì¡°ê¸ˆ ì°¾ì•„ë³´ë‹ˆ, JVM ì´ ì§€ì›í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì˜ ì°¨ì´ ë•Œë¬¸ì— í•´ë‹¹ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²ƒ ê°™ë‹¤ëŠ” ê¸€ì„ ë‹¤ìˆ˜ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.   í˜„ì¬ jdk8 ~ jdk14ì˜ JVM ìƒì—ì„œ ì‚¬ìš©ë˜ëŠ”Nashorn ì—”ì§„ì€ javascriptë¥¼ ì§€ì›í•˜ëŠ”ë°, jdk14 ì´í›„ ë²„ì „ë¶€í„°ëŠ” javascriptê°€ ì§€ì›ë˜ì§€ ì•ŠëŠ” GraalVM ì„ ì‚¬ìš©í•œë‹¤ê³  í•©ë‹ˆë‹¤.   ìŠ¤í”„ë§ ë¶€íŠ¸ 3ì´í›„ì—ëŠ” java 17 ì´ìƒì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í•„ìˆ˜ì¡°ê±´ìœ¼ë¡œ ë˜ì–´ìˆê¸° ë•Œë¬¸ì—,  **ë”ëŠ” ìŠ¤í”„ë§ ë¶€íŠ¸ 3ì—ì„œëŠ” @ScriptAssertë¥¼ ì´ìš©í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ í‘œí˜„ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.**ì°¸ê³ : https://www.inflearn.com/questions/794097<br/><br/>## âš¡ï¸ì˜¤ë¸Œì íŠ¸ ì˜¤ë¥˜ ê´€ë ¨ ë¶€ë¶„ë§Œ ì§ì ‘ ìë°” ì½”ë“œë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì„ ê¶Œì¥ë”°ë¼ì„œ ì˜¤ë¸Œì íŠ¸ ì˜¤ë¥˜(ê¸€ë¡œë²Œ ì˜¤ë¥˜)ì˜ ê²½ìš° `@ScriptAssert` ì„ ì–µì§€ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒ ë³´ë‹¤ëŠ”  ë‹¤ìŒê³¼ ê°™ì´ ì˜¤ë¸Œì íŠ¸ ì˜¤ë¥˜ ê´€ë ¨ ë¶€ë¶„ë§Œ **ì§ì ‘ ìë°” ì½”ë“œë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.**<details><summary>ValidationItemControllerV3 - ê¸€ë¡œë²Œ ì˜¤ë¥˜ ì¶”ê°€</summary>## **ValidationItemControllerV3 - ê¸€ë¡œë²Œ ì˜¤ë¥˜ ì¶”ê°€**```java@PostMapping("/add")public String addItem(@Validated @ModelAttribute Item item, BindingResult bindingResult, RedirectAttributes redirectAttributes) {    //íŠ¹ì • í•„ë“œ ì˜ˆì™¸ê°€ ì•„ë‹Œ ì „ì²´ ì˜ˆì™¸    if (item.getPrice() != null && item.getQuantity() != null) {        int resultPrice = item.getPrice() * item.getQuantity();        if (resultPrice < 10000) {            bindingResult.reject("totalPriceMin", new Object[]{10000, resultPrice}, null);        }    }    // ê²€ì¦ì— ì‹¤íŒ¨í•˜ë©´ ë‹¤ì‹œ ì…ë ¥ í¼ìœ¼ë¡œ    if (bindingResult.hasErrors()) {        log.info("errors={}", bindingResult);        return "validation/v3/addForm";    }    // ì„±ê³µ ë¡œì§    Item savedItem = itemRepository.save(item);    redirectAttributes.addAttribute("itemId", savedItem.getId());    redirectAttributes.addAttribute("status", true);    return "redirect:/validation/v3/items/{itemId}";}```**ê²°ê³¼**![image](https://user-images.githubusercontent.com/83503188/210133905-2d37bda1-cf57-4d67-aa47-f0ae1a398c85.png)</details><br/><br/><br/># ğŸ’¡Bean Validation - í•œê³„ë°ì´í„°ë¥¼ ë“±ë¡í•  ë•Œì™€ ìˆ˜ì •í•  ë•ŒëŠ” ìš”êµ¬ì‚¬í•­ì´ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.**ë“±ë¡ì‹œ ê¸°ì¡´ ìš”êµ¬ì‚¬í•­**- íƒ€ì… ê²€ì¦    - ê°€ê²©, ìˆ˜ëŸ‰ì— ë¬¸ìê°€ ë“¤ì–´ê°€ë©´ ê²€ì¦ ì˜¤ë¥˜ ì²˜ë¦¬- í•„ë“œ ê²€ì¦    - ìƒí’ˆëª…: í•„ìˆ˜, ê³µë°±X    - ê°€ê²©: 1000ì› ì´ìƒ, 1ë°±ë§Œì› ì´í•˜    - ìˆ˜ëŸ‰: ìµœëŒ€ 9999- íŠ¹ì • í•„ë“œì˜ ë²”ìœ„ë¥¼ ë„˜ì–´ì„œëŠ” ê²€ì¦    - ê°€ê²© * ìˆ˜ëŸ‰ì˜ í•©ì€ 10,000ì› ì´ìƒ**ìˆ˜ì •ì‹œ ìš”êµ¬ì‚¬í•­**- ë“±ë¡ì‹œì—ëŠ” `quantity` ìˆ˜ëŸ‰ì„ ìµœëŒ€ 9999ê¹Œì§€ ë“±ë¡í•  ìˆ˜ ìˆì§€ë§Œ ìˆ˜ì •ì‹œì—ëŠ” ìˆ˜ëŸ‰ì„ ë¬´ì œí•œìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.- ë“±ë¡ì‹œì—ëŠ” `id` ì— ê°’ì´ ì—†ì–´ë„ ë˜ì§€ë§Œ, ìˆ˜ì •ì‹œì—ëŠ” `id` ê°’ì´ í•„ìˆ˜ì´ë‹¤.í˜„ì¬ Item ê°ì²´ë¥¼ ì´ìš©í•˜ì—¬ ê²€ì¦í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì„œë¡œ ë‹¤ë¥¸ ìš”êµ¬ì‚¬í•­ì„ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ì²˜ë¦¬í•  ìˆ˜ ì—†ëŠ” í•œê³„ê°€ ì¡´ì¬í•œë‹¤.<br/><br/><br/># ğŸ’¡Bean Validation - groupsë™ì¼í•œ ëª¨ë¸ ê°ì²´ë¥¼ ë“±ë¡í•  ë•Œì™€ ìˆ˜ì •í•  ë•Œ ê°ê° ë‹¤ë¥´ê²Œ ê²€ì¦í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì.**ë°©ë²• 2ê°€ì§€**- BeanValidationì˜ groups ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤.- **Itemì„ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ItemSaveForm, ItemUpdateForm ê°™ì€ í¼ ì „ì†¡ì„ ìœ„í•œ ë³„ë„ì˜ ëª¨ë¸ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•œë‹¤.**## **âš¡ï¸BeanValidation groups ê¸°ëŠ¥ ì‚¬ìš©**ìœ„ì™€ ê°™ì€ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Bean Validationì€ groupsë¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.ì˜ˆë¥¼ ë“¤ì–´ì„œ ë“±ë¡ì‹œì— ê²€ì¦í•  ê¸°ëŠ¥ê³¼ ìˆ˜ì •ì‹œì— ê²€ì¦í•  ê¸°ëŠ¥ì„ ê°ê° ê·¸ë£¹ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì ìš©í•  ìˆ˜ ìˆë‹¤.**ì €ì¥ìš© groups ìƒì„±**```javapackage hello.itemservice.domain.item;public interface SaveCheck {}```**ìˆ˜ì •ìš© groups ìƒì„±**```javapackage hello.itemservice.domain.item;public interface UpdateCheck {}```**Item - groups ì ìš©**```java@Datapublic class Item {    @NotNull(groups = UpdateCheck.class)    private Long id;    @NotBlank(groups = {SaveCheck.class, UpdateCheck.class})    private String itemName;    @NotNull(groups = {SaveCheck.class, UpdateCheck.class})    @Range(min = 1000, max = 1000000, groups = {SaveCheck.class, UpdateCheck.class})    private Integer price;    @NotNull(groups = {SaveCheck.class, UpdateCheck.class})    @Max(value = 9999, groups = SaveCheck.class) //ë“±ë¡ì‹œì—ë§Œ ì ìš©    private Integer quantity;        ...}```**ValidationItemControllerV3 - ì €ì¥ ë¡œì§ì— SaveCheck Groups ì ìš©**```java@PostMapping("/add")public String addItemV2(@Validated(SaveCheck.class) @ModelAttribute Item item, BindingResult bindingResult, RedirectAttributes redirectAttributes){        ...}```**ValidationItemControllerV3 - ìˆ˜ì • ë¡œì§ì— UpdateCheck Groups ì ìš©**```java@PostMapping("/{itemId}/edit")public String editV2(@PathVariable Long itemId, @Validated(UpdateCheck.class) @ModelAttribute Item item, BindingResult bindingResult) {        ...}```> ### ì°¸ê³ >> `@Valid` ì—ëŠ” groupsë¥¼ ì ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ì—†ë‹¤. ë”°ë¼ì„œ groupsë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ `@Validated` ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.groups ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ì„œ ë“±ë¡ê³¼ ìˆ˜ì •ì‹œì— ê°ê° ë‹¤ë¥´ê²Œ ê²€ì¦ì„ í•  ìˆ˜ ìˆì—ˆë‹¤. ê·¸ëŸ°ë° groups ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë‹ˆ `Item` ì€ ë¬¼ë¡ ì´ê³ , ì „ë°˜ì ìœ¼ë¡œ ë³µì¡ë„ê°€ ì˜¬ë¼ê°”ë‹¤.ì‚¬ì‹¤ groups ê¸°ëŠ¥ì€ ì‹¤ì œ ì˜ ì‚¬ìš©ë˜ì§€ëŠ” ì•ŠëŠ”ë°, ê·¸ ì´ìœ ëŠ” ì‹¤ë¬´ì—ì„œëŠ” ì£¼ë¡œ ë‹¤ìŒì— ë“±ì¥í•˜ëŠ” ë“±ë¡ìš© í¼ ê°ì²´ì™€ ìˆ˜ì •ìš© í¼ ê°ì²´ë¥¼ ë¶„ë¦¬í•´ì„œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì´ë‹¤.<br/><br/><br/>## Form ì „ì†¡ ê°ì²´ ë¶„ë¦¬ - ì†Œê°œì‹¤ë¬´ì—ì„œëŠ” groups ë¥¼ ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë°, ê·¸ ì´ìœ ê°€ ë‹¤ë¥¸ ê³³ì— ìˆë‹¤. ë°”ë¡œ ë“±ë¡ì‹œ í¼ì—ì„œ ì „ë‹¬í•˜ëŠ” ë°ì´í„°ê°€ Item ë„ë©”ì¸ ê°ì²´ì™€ ë”± ë§ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.ê·¸ë˜ì„œ ë³´í†µ `Item` ì„ ì§ì ‘ ì „ë‹¬ë°›ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë³µì¡í•œ í¼ì˜ ë°ì´í„°ë¥¼ ì»¨íŠ¸ë¡¤ëŸ¬ê¹Œì§€ ì „ë‹¬í•  ë³„ë„ì˜ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ì „ë‹¬í•œë‹¤. ì˜ˆë¥¼ ë“¤ë©´ `ItemSaveForm` ì´ë¼ëŠ” í¼ì„ ì „ë‹¬ë°›ëŠ” ì „ìš© ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ `@ModelAttribute` ë¡œ ì‚¬ìš©í•œë‹¤.ì´ê²ƒì„ í†µí•´ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ í¼ ë°ì´í„°ë¥¼ ì „ë‹¬ ë°›ê³ , ì´í›„ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ì„œ `Item` ì„ ìƒì„±í•œë‹¤.**í¼ ë°ì´í„° ì „ë‹¬ì— Item ë„ë©”ì¸ ê°ì²´ ì‚¬ìš©**- HTML Form -> Item -> Controller -> Item -> Repository    - ì¥ì : Item ë„ë©”ì¸ ê°ì²´ë¥¼ ì»¨íŠ¸ë¡¤ëŸ¬, ë¦¬í¬ì§€í† ë¦¬ ê¹Œì§€ ì§ì ‘ ì „ë‹¬í•´ì„œ ì¤‘ê°„ì— Itemì„ ë§Œë“œëŠ” ê³¼ì •ì´ ì—†ì–´ì„œ ê°„ë‹¨í•˜ë‹¤.    - ë‹¨ì : ê°„ë‹¨í•œ ê²½ìš°ì—ë§Œ ì ìš©í•  ìˆ˜ ìˆë‹¤. ìˆ˜ì •ì‹œ ê²€ì¦ì´ ì¤‘ë³µë  ìˆ˜ ìˆê³ , groupsë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.**í¼ ë°ì´í„° ì „ë‹¬ì„ ìœ„í•œ ë³„ë„ì˜ ê°ì²´ ì‚¬ìš©**- HTML Form -> ItemSaveForm -> Controller -> Item ìƒì„± -> Repository    - ì¥ì : ì „ì†¡í•˜ëŠ” í¼ ë°ì´í„°ê°€ ë³µì¡í•´ë„ ê±°ê¸°ì— ë§ì¶˜ ë³„ë„ì˜ í¼ ê°ì²´ë¥¼ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë¥¼ ì „ë‹¬ ë°›ì„ ìˆ˜ ìˆë‹¤. ë³´í†µ ë“±ë¡ê³¼, ìˆ˜ì •ìš©ìœ¼ë¡œ ë³„ë„ì˜ í¼ ê°ì²´ë¥¼ ë§Œë“¤ê¸° ë•Œë¬¸ì— ê²€ì¦ì´ ì¤‘ë³µë˜ì§€ ì•ŠëŠ”ë‹¤.    - ë‹¨ì : í¼ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ Item ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë³€í™˜ ê³¼ì •ì´ ì¶”ê°€ëœë‹¤.> Q: ì´ë¦„ì€ ì–´ë–»ê²Œ ì§€ì–´ì•¼ í•˜ë‚˜ìš”?>> ì´ë¦„ì€ ì˜ë¯¸ìˆê²Œ ì§€ìœ¼ë©´ ëœë‹¤. `ItemSave` ë¼ê³  í•´ë„ ë˜ê³ , `ItemSaveForm` , `ItemSaveRequest` , `ItemSaveDto` ë“±ìœ¼ë¡œ ì‚¬ìš©í•´ë„ ëœë‹¤. ì¤‘ìš”í•œ ê²ƒì€ ì¼ê´€ì„±ì´ë‹¤.> íŒ€ì˜ ê´€ë¡€ì— ë”°ë¥´ë©´ ëœë‹¤.> Q: ë“±ë¡, ìˆ˜ì •ìš© ë·° í…œí”Œë¦¿ì´ ë¹„ìŠ·í•œë° í•©ì¹˜ëŠ”ê²Œ ì¢‹ì„ê¹Œìš”?>> ê°ê° ì¥ë‹¨ì ì´ ìˆìœ¼ë¯€ë¡œ ê³ ë¯¼í•˜ëŠ”ê²Œ ì¢‹ì§€ë§Œ, ì–´ì„¤í”„ê²Œ í•©ì¹˜ë©´ ìˆ˜ ë§ì€ ë¶„ê¸°ë¬¸(ë“±ë¡ì¼ ë•Œ, ìˆ˜ì •ì¼ ë•Œ) ë•Œë¬¸ì— ë‚˜ì¤‘ì— ìœ ì§€ë³´ìˆ˜ì—ì„œ ê³ í†µì„ ë§›ë³¸ë‹¤. ì´ëŸ° ì–´ì„¤í”ˆ ë¶„ê¸°ë¬¸ë“¤ì´ ë³´ì´ê¸° ì‹œì‘í•˜ë©´ ë¶„ë¦¬í•´ì•¼ í•  ì‹ í˜¸ì´ë‹¤.## Form ì „ì†¡ ê°ì²´ ë¶„ë¦¬ - ê°œë°œ**Item**```java@Data//@ScriptAssert(lang = "javascript", script = "_this.price * _this.quantity >= 10000")public class Item {    private Long id;    private String itemName;    private Integer price;    private Integer quantity;    }```**ItemSaveForm - ITEM ì €ì¥ìš© í¼**```java@Datapublic class ItemSaveForm {    @NotBlank    private String itemName;    @NotNull    @Range(min = 1000, max = 1000000)    private Integer price;    @NotNull    @Max(value = 9999) //ë“±ë¡ì‹œì—ë§Œ ì ìš©    private Integer quantity; }```**ItemUpdateForm - ITEM ìˆ˜ì •ìš© í¼**```java@Datapublic class ItemUpdateForm {        @NotNull    private Long id;        @NotBlank    private String itemName;        @NotNull    @Range(min = 1000, max = 1000000)    private Integer price;        //ìˆ˜ì •ì—ì„œëŠ” ìˆ˜ëŸ‰ì€ ììœ ë¡­ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.    private Integer quantity;}```**ValidationItemControllerV4**```java...    @PostMapping("/add")    public String addItem(@Validated @ModelAttribute("item") ItemSaveForm form, BindingResult bindingResult, RedirectAttributes redirectAttributes) {        //íŠ¹ì • í•„ë“œ ì˜ˆì™¸ê°€ ì•„ë‹Œ ì „ì²´ ì˜ˆì™¸        if (form.getPrice() != null && form.getQuantity() != null) {            int resultPrice = form.getPrice() * form.getQuantity();            if (resultPrice < 10000) {                bindingResult.reject("totalPriceMin", new Object[]{10000, resultPrice}, null);            }        }        // ê²€ì¦ì— ì‹¤íŒ¨í•˜ë©´ ë‹¤ì‹œ ì…ë ¥ í¼ìœ¼ë¡œ        if (bindingResult.hasErrors()) {            log.info("errors={}", bindingResult);            return "validation/v4/addForm";        }        Item item = new Item();        item.setItemName(form.getItemName());        item.setPrice(form.getPrice());        item.setQuantity(form.getQuantity());        // ì„±ê³µ ë¡œì§        Item savedItem = itemRepository.save(item);        redirectAttributes.addAttribute("itemId", savedItem.getId());        redirectAttributes.addAttribute("status", true);        return "redirect:/validation/v4/items/{itemId}";    }        ...    @PostMapping("/{itemId}/edit")    public String edit(@PathVariable Long itemId, @Validated @ModelAttribute("item") ItemUpdateForm form, BindingResult bindingResult) {        //íŠ¹ì • í•„ë“œ ì˜ˆì™¸ê°€ ì•„ë‹Œ ì „ì²´ ì˜ˆì™¸        if (form.getPrice() != null && form.getQuantity() != null) {            int resultPrice = form.getPrice() * form.getQuantity();            if (resultPrice < 10000) {                bindingResult.reject("totalPriceMin", new Object[]{10000, resultPrice}, null);            }        }        // ê²€ì¦ì— ì‹¤íŒ¨í•˜ë©´ ë‹¤ì‹œ ì…ë ¥ í¼ìœ¼ë¡œ        if (bindingResult.hasErrors()) {            log.info("errors={}", bindingResult);            return "validation/v4/editForm";        }        Item itemParam = new Item();        itemParam.setItemName(form.getItemName());        itemParam.setPrice(form.getPrice());        itemParam.setQuantity(form.getQuantity());        itemRepository.update(itemId, itemParam);        return "redirect:/validation/v4/items/{itemId}";    }        ...```**ì£¼ì˜**`@ModelAttribute("item")` ì— `item` ì´ë¦„ì„ ë„£ì–´ì¤€ ë¶€ë¶„ì„ ì£¼ì˜í•˜ì. ì´ê²ƒì„ ë„£ì§€ ì•Šìœ¼ë©´ `ItemSaveForm` ì˜ ê²½ìš° ê·œì¹™ì— ì˜í•´ `itemSaveForm` ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ MVC Modelì— ë‹´ê¸°ê²Œ ëœë‹¤.ì´ë ‡ê²Œ ë˜ë©´ ë·° í…œí”Œë¦¿ì—ì„œ ì ‘ê·¼í•˜ëŠ” `th:object` ì´ë¦„ë„ í•¨ê»˜ ë³€ê²½í•´ì£¼ì–´ì•¼ í•œë‹¤.## Bean Validation - HTTP ë©”ì‹œì§€ ì»¨ë²„í„°`@Valid` , `@Validated` ëŠ”  HTTP ë©”ì‹œì§€ ë°”ë””ì— ì§ì ‘ ë°ì´í„°ê°€ ì˜¤ëŠ” `HttpMessageConverter` ( `@RequestBody` )ì—ë„ ì ìš©í•  ìˆ˜ ìˆë‹¤.> ì°¸ê³ >> `@ModelAttribute` ëŠ” HTTP ìš”ì²­ íŒŒë¼ë¯¸í„°(URL ì¿¼ë¦¬ ìŠ¤íŠ¸ë§, POST Form)ë¥¼ ë‹¤ë£° ë•Œ ì‚¬ìš©í•œë‹¤.>> `@RequestBody` ëŠ” HTTP Bodyì˜ ë°ì´í„°ë¥¼ ê°ì²´ë¡œ ë³€í™˜í•  ë•Œ ì‚¬ìš©í•œë‹¤. ì£¼ë¡œ API JSON ìš”ì²­ì„ ë‹¤ë£° ë•Œ ì‚¬ìš©í•œë‹¤.**ValidationItemApiController ìƒì„±**```java@Slf4j@RestController@RequestMapping("/validation/api/items")public class ValidationItemApiController {    @PostMapping("/add")    public Object addItem(@RequestBody @Validated ItemSaveForm form, BindingResult bindingResult) {        log.info("API ì»¨íŠ¸ë¡¤ëŸ¬ í˜¸ì¶œ");        if (bindingResult.hasErrors()) {            log.info("ê²€ì¦ ì˜¤ë¥˜ ë°œìƒ errors={}", bindingResult);            return bindingResult.getAllErrors();        }        log.info("ì„±ê³µ ë¡œì§ ì‹¤í–‰");        return form;    }}```**ì„±ê³µ ìš”ì²­**```textPOST http://localhost:8080/validation/api/items/add{"itemName":"hello", "price":1000, "quantity": 10}```**APIì˜ ê²½ìš° 3ê°€ì§€ ê²½ìš°ë¥¼ ë‚˜ëˆ„ì–´ ìƒê°í•´ì•¼ í•œë‹¤.**- ì„±ê³µ ìš”ì²­: ì„±ê³µ- ì‹¤íŒ¨ ìš”ì²­: JSONì„ ê°ì²´ë¡œ ìƒì„±í•˜ëŠ” ê²ƒ ìì²´ê°€ ì‹¤íŒ¨í•¨- ê²€ì¦ ì˜¤ë¥˜ ìš”ì²­: JSONì„ ê°ì²´ë¡œ ìƒì„±í•˜ëŠ” ê²ƒì€ ì„±ê³µí–ˆê³ , ê²€ì¦ì—ì„œ ì‹¤íŒ¨í•¨**ì„±ê³µ ìš”ì²­ ë¡œê·¸**![image](https://user-images.githubusercontent.com/83503188/210135724-72a44eb2-d1ef-436c-b5ad-77df1a11714c.png)**ì‹¤íŒ¨ ìš”ì²­**```textPOST http://localhost:8080/validation/api/items/add{"itemName":"hello", "price":"A", "quantity": 10}```**ì‹¤íŒ¨ ìš”ì²­ ë¡œê·¸**![image](https://user-images.githubusercontent.com/83503188/210135779-5be3c465-cae7-401e-9138-5e272f181a6b.png)- `HttpMessageConverter`ì—ì„œ ìš”ì²­ JSONì„ `ItemSaveForm` ê°ì²´ë¡œ ìƒì„±í•˜ëŠ”ë° ì‹¤íŒ¨í•œë‹¤.- ì´ ê²½ìš°ëŠ” `ItemSaveForm` ê°ì²´ë¥¼ ë§Œë“¤ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— ì»¨íŠ¸ë¡¤ëŸ¬ ìì²´ê°€ í˜¸ì¶œë˜ì§€ ì•Šê³  ê·¸ ì „ì— ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.- ë”°ë¼ì„œ `ItemSaveForm` ì´ ìƒì„±ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— Validator ë„ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤.`HttpMessageConverter` ëŠ” `@RequestBody` ë¥¼ í™•ì¸í•˜ê³  Jsonì„ íŒŒì‹±í•˜ì—¬ ItemSaveFormì„ ë§Œë“œëŠ”ë°, ê·¸ ê³¼ì •ì—ì„œ íƒ€ì…ì´ ë§ì§€ ì•Šê¸° ë•Œë¬¸ì— ê°ì²´ ìì²´ë¥¼ ë§Œë“¤ì§€ ëª»í•œë‹¤.ê°ì²´ë¥¼ ë§Œë“¤ì§€ ëª»í•˜ì—¬ ì˜ˆì™¸ê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ì»¨íŠ¸ë¡¤ëŸ¬ ìì²´ë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤.**ê²€ì¦ ì˜¤ë¥˜ ìš”ì²­**ì´ë²ˆì—ëŠ” `HttpMessageConverter` ëŠ” ì„±ê³µí•˜ì§€ë§Œ ê²€ì¦(Validator)ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°```textPOST http://localhost:8080/validation/api/items/add{"itemName":"hello", "price":1000, "quantity": 10000}```- ìˆ˜ëŸ‰( `quantity` )ì´ 10000 ì´ë©´ BeanValidation `@Max(9999)` ì—ì„œ ê±¸ë¦°ë‹¤.**ê²€ì¦ ì˜¤ë¥˜ ìš”ì²­ ë¡œê·¸**![image](https://user-images.githubusercontent.com/83503188/210135845-9953cd82-4ba2-4d22-8b69-f35c0f40c1f2.png)- ë¡œê·¸ë¥¼ ë³´ë©´ ê²€ì¦ ì˜¤ë¥˜ê°€ ì •ìƒ ìˆ˜í–‰**@ModelAttribute vs @RequestBody**HTTP ìš”ì²­ íŒŒë¦¬ë¯¸í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” `@ModelAttribute` ëŠ” ê°ê°ì˜ í•„ë“œ ë‹¨ìœ„ë¡œ ì„¸ë°€í•˜ê²Œ ì ìš©ëœë‹¤. ê·¸ë˜ì„œ íŠ¹ì • í•„ë“œì— íƒ€ì…ì´ ë§ì§€ ì•ŠëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•´ë„ ë‚˜ë¨¸ì§€ í•„ë“œëŠ” ì •ìƒ ì²˜ë¦¬í•  ìˆ˜ ìˆì—ˆë‹¤.`HttpMessageConverter` ëŠ” `@ModelAttribute` ì™€ ë‹¤ë¥´ê²Œ ê°ê°ì˜ í•„ë“œ ë‹¨ìœ„ë¡œ ì ìš©ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì „ì²´ ê°ì²´ ë‹¨ìœ„ë¡œ ì ìš©ëœë‹¤.ë”°ë¼ì„œ ë©”ì‹œì§€ ì»¨ë²„í„°ì˜ ì‘ë™ì´ ì„±ê³µí•´ì„œ `ItemSaveForm` ê°ì²´ë¥¼ ë§Œë“¤ì–´ì•¼ `@Valid` , `@Validated` ê°€ ì ìš©ëœë‹¤.- `@ModelAttribute` ëŠ” í•„ë“œ ë‹¨ìœ„ë¡œ ì •êµí•˜ê²Œ ë°”ì¸ë”©ì´ ì ìš©ëœë‹¤. íŠ¹ì • í•„ë“œê°€ ë°”ì¸ë”© ë˜ì§€ ì•Šì•„ë„ ë‚˜ë¨¸ì§€ í•„ë“œëŠ” ì •ìƒ ë°”ì¸ë”© ë˜ê³ , Validatorë¥¼ ì‚¬ìš©í•œ ê²€ì¦ë„ ì ìš©í•  ìˆ˜ ìˆë‹¤.- `@RequestBody` ëŠ” `HttpMessageConverter` ë‹¨ê³„ì—ì„œ JSON ë°ì´í„°ë¥¼ ê°ì²´ë¡œ ë³€ê²½í•˜ì§€ ëª»í•˜ë©´ ì´í›„ ë‹¨ê³„ ìì²´ê°€ ì§„í–‰ë˜ì§€ ì•Šê³  ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ë„ í˜¸ì¶œë˜ì§€ ì•Šê³ , Validatorë„ ì ìš©í•  ìˆ˜ ì—†ë‹¤.