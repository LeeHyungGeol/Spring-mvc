# ìŠ¤í”„ë§ MVC - êµ¬ì¡° ì´í•´<br/>## ëª©ì°¨- ìŠ¤í”„ë§ MVC ì „ì²´ êµ¬ì¡°- HandlerMapping ê³¼ HandlerAdapter- ViewResolver- <br/><br/><br/># ğŸ’¡ìŠ¤í”„ë§ MVC ì „ì²´ êµ¬ì¡°`ì§ì ‘ ë§Œë“  MVC í”„ë ˆì„ì›Œí¬`ì™€ `ìŠ¤í”„ë§ MVC í”„ë ˆì„ì›Œí¬`ì˜ êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.**ì§ì ‘ ë§Œë“  MVC í”„ë ˆì„ì›Œí¬**      ![custom-mvc](https://user-images.githubusercontent.com/50267433/126873927-e39e18b6-06a8-414b-9c21-9e6561d39ac5.PNG)**ìŠ¤í”„ë§ MVC í”„ë ˆì„ì›Œí¬**    ![spring-mvc](https://user-images.githubusercontent.com/50267433/126873936-e90358e2-10ac-4b6e-9343-6d0c20c523fd.PNG)ë‘˜ê°„ì˜ ì°¨ì´ê°€ ìˆì„ ì¤„ ì•Œì•˜ì§€ë§Œ ì‚¬ì‹¤ ë™ì¼í•œ êµ¬ì¡°ë¥¼ ë„ê³  ìˆë‹¤.ë‹¨, ëª‡ëª‡ êµ¬ì„± ìš”ì†Œë“¤ê°„ì˜ ì´ë¦„ ì°¨ì´ëŠ” ì¡´ì¬í•œë‹¤.|ì§ì ‘ë§Œë“  MVC|ìŠ¤í”„ë§ MVC||-----------|----------||FrontController|DispatcherServlet||handlerMappingMap|HandlerMappingMap||MyHandlerAdapter|HandlerAdapter||ModelView|ModelAndView||viewResolver|ViewReolver||MyView|View|<br/>## âš¡ï¸ DispatcherServlet```javaorg.springframework.web.servlet.DispatcherServlet```ìŠ¤í”„ë§ MVCë„ í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆë‹¤.       ìŠ¤í”„ë§ MVCì˜ í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë°”ë¡œ ë””ìŠ¤íŒ¨ì²˜ ì„œë¸”ë¦¿(DispatcherServlet)ì´ë‹¤.    ê·¸ë¦¬ê³  ì´ **`DispatcherServlet` ì´ ë°”ë¡œ ìŠ¤í”„ë§ MVCì˜ í•µì‹¬ì´ë‹¤**## âš¡ï¸ DispatcherServlet ì„œë¸”ë¦¿ ë“±ë¡`DispacherServlet`ë„ ë¶€ëª¨ í´ë˜ìŠ¤ì—ì„œ `HttpServlet`ì„ ìƒì† ë°›ì•„ì„œ ì‚¬ìš©í•˜ê³  **ì„œë¸”ë¦¿ìœ¼ë¡œ ë™ì‘í•œë‹¤.*** `DispatcherServlet` -> `FrameworkServlet` -> `HttpServletBean` -> `HttpServlet`**ìŠ¤í”„ë§ ë¶€íŠ¸**ëŠ” DispatcherServlet ì„ ì„œë¸”ë¦¿ìœ¼ë¡œ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ë©´ì„œ        **ëª¨ë“  ê²½ë¡œ( urlPatterns="/" )ì— ëŒ€í•´ì„œ ë§¤í•‘í•œë‹¤.****ì°¸ê³ :**   ë” ìì„¸í•œ ê²½ë¡œê°€ ìš°ì„ ìˆœìœ„ê°€ ë†’ë‹¤.   ê·¸ë˜ì„œ ê¸°ì¡´ì— ë“±ë¡í•œ ì„œë¸”ë¦¿ë„ í•¨ê»˜ ë™ì‘í•œë‹¤.<br/><br/>## âš¡ï¸ ìš”ì²­ íë¦„ì„œë¸”ë¦¿ì´ í˜¸ì¶œë˜ë©´ `HttpServlet`ì´ ì œê³µí•˜ëŠ” **serivce()** ê°€ í˜¸ì¶œëœë‹¤.     ìŠ¤í”„ë§ MVCëŠ” DispatcherServlet ì˜ ë¶€ëª¨ì¸ **FrameworkServlet ì—ì„œ service() ë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•´ë‘ì—ˆë‹¤.**       `FrameworkServlet.service()`ë¥¼ ì‹œì‘ìœ¼ë¡œ ì—¬ëŸ¬ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©´ì„œ **`DispacherServlet.doDispatch()`ê°€ í˜¸ì¶œëœë‹¤.****doDispatch() ê´€ë ¨ ì½”ë“œë“¤**```javaprotected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception {    HttpServletRequest processedRequest = request;    HandlerExecutionChain mappedHandler = null;    ModelAndView mv = null;       mappedHandler = getHandler(processedRequest);                                // 1. í•¸ë“¤ëŸ¬ ì¡°íšŒ    if (mappedHandler == null) {        noHandlerFound(processedRequest, response);        return;    }        HandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler());          // 2. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì¡°íšŒ - í•¸ë“¤ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì–´ëŒ‘í„°    mv = ha.handle(processedRequest, response, mappedHandler.getHandler());     // 3. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì‹¤í–‰ -> 4. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ í†µí•´ í•¸ë“¤ëŸ¬ ì‹¤í–‰ -> 5. ModelAndView ë°˜í™˜    processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);}    private void processDispatchResult(HttpServletRequest request, HttpServletResponse response, HandlerExecutionChain mappedHandler, ModelAndView mv, Exception exception) throws Exception {    render(mv, request, response);                                              // ë·° ë Œë”ë§ í˜¸ì¶œ}protected void render(ModelAndView mv, HttpServletRequest request, HttpServletResponse response) throws Exception {    View view;    String viewName = mv.getViewName();    view = resolveViewName(viewName, mv.getModelInternal(), locale, request);   // 6. ë·° ë¦¬ì¡¸ë²„ë¥¼ í†µí•´ì„œ ë·° ì°¾ê¸°, 7. View ë°˜í™˜    view.render(mv.getModelInternal(), request, response);                      // 8. ë·° ë Œë”ë§}```<details><summary>noHandlerFound(), getHandler(), getHandlerAdapter()</summary><div markdown="1">```javaprotected void noHandlerFound(HttpServletRequest request, HttpServletResponse response) throws Exception {    if (pageNotFoundLogger.isWarnEnabled()) {        pageNotFoundLogger.warn("No mapping for " + request.getMethod() + " " + getRequestUri(request));    }    if (this.throwExceptionIfNoHandlerFound) {        throw new NoHandlerFoundException(request.getMethod(), getRequestUri(request),	new ServletServerHttpRequest(request).getHeaders());    } else {        response.sendError(HttpServletResponse.SC_NOT_FOUND);    }}	@Nullableprotected HandlerExecutionChain getHandler(HttpServletRequest request) throws Exception {    if (this.handlerMappings != null) {	    for (HandlerMapping mapping : this.handlerMappings) {		    HandlerExecutionChain handler = mapping.getHandler(request);		    if (handler != null) {			    return handler;		    }	    }    }    return null;}    protected HandlerAdapter getHandlerAdapter(Object handler) throws ServletException {    if (this.handlerAdapters != null) {	    for (HandlerAdapter adapter : this.handlerAdapters) {		    if (adapter.supports(handler)) {			    return adapter;		    }	    }    }    throw new ServletException("No adapter for handler [" + handler + "]: The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler");}```</div></details>**ë™ì‘ ìˆœì„œ**1. **í•¸ë“¤ëŸ¬ ì¡°íšŒ:** í•¸ë“¤ëŸ¬ ë§¤í•‘ì„ í†µí•´ ìš”ì²­ URLì— ë§¤í•‘ëœ í•¸ë“¤ëŸ¬(ì»¨íŠ¸ë¡¤ëŸ¬)ë¥¼ ì¡°íšŒí•œë‹¤.2. **í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì¡°íšŒ:** í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ ì¡°íšŒí•œë‹¤.3. **í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì‹¤í–‰:** í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ ì‹¤í–‰í•œë‹¤.4. **í•¸ë“¤ëŸ¬ ì‹¤í–‰:** í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ê°€ ì‹¤ì œ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•œë‹¤.5. **ModelAndView ë°˜í™˜:** í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ëŠ” í•¸ë“¤ëŸ¬ê°€ ë°˜í™˜í•˜ëŠ” ì •ë³´ë¥¼ ModelAndViewë¡œ ë³€í™˜í•´ì„œ ë°˜í™˜í•œë‹¤.6. **viewResolver í˜¸ì¶œ:** ë·° ë¦¬ì¡¸ë²„ë¥¼ ì°¾ê³  ì‹¤í–‰í•œë‹¤.            JSPì˜ ê²½ìš°: InternalResourceViewResolver ê°€ ìë™ ë“±ë¡ë˜ê³ , ì‚¬ìš©ëœë‹¤.7. **View ë°˜í™˜:** ë·° ë¦¬ì¡¸ë²„ëŠ” ë·°ì˜ ë…¼ë¦¬ ì´ë¦„ì„ ë¬¼ë¦¬ ì´ë¦„ìœ¼ë¡œ ë°”ê¾¸ê³ ,        ë Œë”ë§ ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ” ë·° ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.           JSPì˜ ê²½ìš° InternalResourceView(JstlView) ë¥¼ ë°˜í™˜í•˜ëŠ”ë°, ë‚´ë¶€ì— forward() ë¡œì§ì´ ìˆë‹¤.8. **ë·° ë Œë”ë§:** ë·°ë¥¼ í†µí•´ì„œ ë·°ë¥¼ ë Œë”ë§ í•œë‹¤.<br/><br/>## âš¡ï¸ ì¸í„°í˜ì´ìŠ¤ ì‚´í´ë³´ê¸°ìŠ¤í”„ë§ MVCì˜ í° ê°•ì ì€ DispatcherServlet ì½”ë“œì˜ ë³€ê²½ ì—†ì´,      ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ë³€ê²½í•˜ê±°ë‚˜ í™•ì¥í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.      ì§€ê¸ˆê¹Œì§€ ì„¤ëª…í•œ ëŒ€ë¶€ë¶„ì„ í™•ì¥ ê°€ëŠ¥í•  ìˆ˜ ìˆê²Œ ì¸í„°í˜ì´ìŠ¤ë¡œ ì œê³µí•œë‹¤.       ì´ ì¸í„°í˜ì´ìŠ¤ë“¤ë§Œ êµ¬í˜„í•´ì„œ DispatcherServlet ì— ë“±ë¡í•˜ë©´ ì—¬ëŸ¬ë¶„ë§Œì˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆë‹¤.**ì£¼ìš” ì¸í„°í˜ì´ìŠ¤ ëª©ë¡*** **í•¸ë“¤ëŸ¬ ë§¤í•‘:** org.springframework.web.servlet.HandlerMapping* **í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°:** org.springframework.web.servlet.HandlerAdapter* **ë·° ë¦¬ì¡¸ë²„:** org.springframework.web.servlet.ViewResolver* **ë·°:** org.springframework.web.servlet.View<br/><br/>## âš¡ï¸ ì •ë¦¬ìŠ¤í”„ë§ MVCëŠ” ì½”ë“œ ë¶„ëŸ‰ë„ ë§¤ìš° ë§ê³ , ë³µì¡í•´ì„œ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ë‹¤ íŒŒì•…í•˜ëŠ” ê²ƒì€ ì‰½ì§€ ì•Šë‹¤.       ìŠ¤í”„ë§ MVCëŠ” ì „ì„¸ê³„ ìˆ˜ ë§ì€ ê°œë°œìë“¤ì˜ ìš”êµ¬ì‚¬í•­ì— ë§ì¶”ì–´ ê¸°ëŠ¥ì„ ê³„ì† í™•ì¥ì™”ê³ ,           ê·¸ë˜ì„œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ë•Œ í•„ìš”ë¡œ í•˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ê¸°ëŠ¥ì´ ì´ë¯¸ ë‹¤ êµ¬í˜„ë˜ì–´ ìˆë‹¤.         ê·¸ë˜ë„ ì´ë ‡ê²Œ í•µì‹¬ ë™ì‘ë°©ì‹ì„ ì•Œì•„ë‘ì–´ì•¼ í–¥í›„ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ      ì–´ë–¤ ë¶€ë¶„ì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆëŠ”ì§€ ì‰½ê²Œ íŒŒì•…í•˜ê³ , ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.      ê·¸ë¦¬ê³  í™•ì¥ í¬ì¸íŠ¸ê°€ í•„ìš”í•  ë•Œ, ì–´ë–¤ ë¶€ë¶„ì„ í™•ì¥í•´ì•¼ í• ì§€ ê°ì„ ì¡ì„ ìˆ˜ ìˆë‹¤.    <br/><br/><br/># ğŸ’¡HandlerMapping ê³¼ HandlerAdapter## âš¡ï¸ Controller ì¸í„°í˜ì´ìŠ¤> Controller ì¸í„°í˜ì´ìŠ¤ëŠ” @Controller ì• ë…¸í…Œì´ì…˜ê³¼ëŠ” ì „í˜€ ë‹¤ë¥´ë‹¤.ê³¼ê±° ë²„ì „ ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬```java  org.springframework.web.servlet.mvc.Controller```  ```java@FunctionalInterfacepublic interface Controller {	@Nullable	ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception;}```ìŠ¤í”„ë§ë„ ì²˜ìŒì—ëŠ” ì´ëŸ° ë”±ë”±í•œ í˜•ì‹ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì œê³µí–ˆë‹¤.**Controller ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´**```java// ìŠ¤í”„ë§ ë¹ˆ ì´ë¦„ì„ URLì— ë§ì¶”ì—ˆë‹¤.@Component("/springmvc/old-controller")public class OldController implements Controller {    @Override    public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception {        System.out.println("OldController.handleRequest");        return null;    }}```* **@Component :** `/springmvc/old-controller` ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ **ìŠ¤í”„ë§ ë¹ˆ ë“±ë¡*** **ë¹ˆì˜ ì´ë¦„ìœ¼ë¡œ URLì„ ë§¤í•‘í•  ê²ƒì´ë‹¤.**<br/>## âš¡ï¸ **ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì–´ë–»ê²Œ í˜¸ì¶œë  ìˆ˜ ìˆì„ê¹Œ? ğŸ¤”**![spring-mvc](https://user-images.githubusercontent.com/50267433/126873936-e90358e2-10ac-4b6e-9343-6d0c20c523fd.PNG)ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í˜¸ì¶œë˜ë ¤ë©´ ë‹¤ìŒ 2ê°€ì§€ê°€ í•„ìš”í•˜ë‹¤.**âœ” HandlerMapping(í•¸ë“¤ëŸ¬ ë§¤í•‘)*** í•¸ë“¤ëŸ¬ ë§¤í•‘ì—ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ì„ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.* **ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì„ ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ ë§¤í•‘ì´ í•„ìš”í•˜ë‹¤.****âœ” HandlerAdapter(í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°)*** í•¸ë“¤ëŸ¬ ë§¤í•‘ì„ í†µí•´ì„œ ì°¾ì€ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ê°€ í•„ìš”í•˜ë‹¤.* **Controller ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ ì°¾ê³  ì‹¤í–‰í•´ì•¼ í•œë‹¤.**ìŠ¤í”„ë§ì€ ì´ë¯¸ í•„ìš”í•œ í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ ëŒ€ë¶€ë¶„ êµ¬í˜„í•´ë‘ì—ˆë‹¤.   ê°œë°œìê°€ ì§ì ‘ í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ ë§Œë“œëŠ” ì¼ì€ ê±°ì˜ ì—†ë‹¤.### **Spring Boot ê°€ ìë™ ë“±ë¡í•˜ëŠ” HandlerMapping ê³¼ HandlerAdapter**      (ì‹¤ì œë¡œëŠ” ë” ë§ì§€ë§Œ, ì¤‘ìš”í•œ ë¶€ë¶„ ìœ„ì£¼ë¡œ ì„¤ëª…í•˜ê¸° ìœ„í•´ ì¼ë¶€ ìƒëµ)**HandlerMapping**|ìš°ì„  ìˆœìœ„|ì´ë¦„|ì„¤ëª…|   |-|-----------|---|         |0|RequestMappingHandlerMapping|ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì¸ `@RequestMapping`ì—ì„œ ì‚¬ìš©|      |1|BeanNameUrlHandlerMapping|ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ëŠ”ë‹¤.|**HandlerAdapter**|ìš°ì„  ìˆœìœ„|ì´ë¦„|ì„¤ëª…||-|-----------|---|         |0|RequestMappingHandlerAdapter|ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì¸ @RequestMappingì—ì„œ ì‚¬ìš©||1|HttpRequestHandlerAdapter|HttpRequestHandler ì²˜ë¦¬||2|SimpleControllerHandlerAdapter|Controller ì¸í„°í˜ì´ìŠ¤(ì• ë…¸í…Œì´ì…˜X, ê³¼ê±°ì— ì‚¬ìš©) ì²˜ë¦¬|í•¸ë“¤ëŸ¬ ë§¤í•‘ë„, í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë„ ëª¨ë‘ ìˆœì„œëŒ€ë¡œ ì°¾ê³  ë§Œì•½ ì—†ìœ¼ë©´ ë‹¤ìŒ ìˆœì„œë¡œ ë„˜ì–´ê°„ë‹¤.      urlì„ ê¸°ì¤€ìœ¼ë¡œ `RequestMappingHandlerMapping`ì„ ì°¾ì•˜ëŠ”ë° ì—†ê¸°ì—     ë‹¤ìŒ ìš°ì„  ìˆœìœ„ì¸ `BeanNameUrlHandlerMapping`ì—ì„œ ì°¾ì•„ì„œ í•¸ë“œëŸ¬ë¥¼ ê°€ì ¸ì™”ë˜ ê²ƒì´ë‹¤.**1. í•¸ë“¤ëŸ¬ ë§¤í•‘ìœ¼ë¡œ í•¸ë“¤ëŸ¬ ì¡°íšŒ**1. `HandlerMapping` ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•´ì„œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ëŠ”ë‹¤.2. ì´ ê²½ìš° ë¹ˆ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì•„ì•¼ í•˜ê¸° ë•Œë¬¸ì—            ì´ë¦„ ê·¸ëŒ€ë¡œ ë¹ˆ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì•„ì£¼ëŠ” `BeanNameUrlHandlerMapping` ê°€ ì‹¤í–‰ì— ì„±ê³µí•˜ê³         í•¸ë“¤ëŸ¬ì¸ `OldController` ë¥¼ ë°˜í™˜í•œë‹¤.**2. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì¡°íšŒ**1. `HandlerAdapter` ì˜ `supports()` ë¥¼ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œí•œë‹¤.2. `SimpleControllerHandlerAdapter` ê°€ Controller ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§€ì›í•˜ë¯€ë¡œ ëŒ€ìƒì´ ëœë‹¤.**3. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì‹¤í–‰**1. ë””ìŠ¤íŒ¨ì²˜ ì„œë¸”ë¦¿ì´ ì¡°íšŒí•œ `SimpleControllerHandlerAdapter` ë¥¼ ì‹¤í–‰í•˜ë©´ì„œ í•¸ë“¤ëŸ¬ ì •ë³´ë„ í•¨ê»˜ ë„˜ê²¨ì¤€ë‹¤.2. `SimpleControllerHandlerAdapter` ëŠ” í•¸ë“¤ëŸ¬ì¸ `OldController` ë¥¼ ë‚´ë¶€ì—ì„œ ì‹¤í–‰í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.<br/>## âš¡ï¸ **ì •ë¦¬ - OldController HandlerMapping, HandlerAdpater**         OldController ë¥¼ ì‹¤í–‰í•˜ë©´ì„œ ì‚¬ìš©ëœ ê°ì²´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.   `HandlerMapping = BeanNameUrlHandlerMapping`    `HandlerAdapter = SimpleControllerHandlerAdapter`<br/><br/>## âš¡ï¸ HttpRequestHandler ì¸í„°í˜ì´ìŠ¤```java@FunctionalInterfacepublic interface HttpRequestHandler {	void handleRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException;}``````java@Component("/springmvc/request-handler")public class MyHttpRequestHandler implements HttpRequestHandler {        @Override    public void handleRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {        System.out.println("MyHttpRequestHandler.handleRequest");    }    }```í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼, ì–´ëŒ‘í„°ë¥¼ ë” ì˜ ì´í•´í•˜ê¸° ìœ„í•´ Controller ì¸í„°í˜ì´ìŠ¤ê°€ ì•„ë‹Œ ë‹¤ë¥¸ í•¸ë“¤ëŸ¬ë¥¼ ì´ìš©í–ˆë‹¤.         `HttpRequestHandler` í•¸ë“¤ëŸ¬(ì»¨íŠ¸ë¡¤ëŸ¬)ëŠ” ì„œë¸”ë¦¿ê³¼ ê°€ì¥ ìœ ì‚¬í•œ í˜•íƒœì˜ í•¸ë“¤ëŸ¬ì´ë‹¤**1. í•¸ë“¤ëŸ¬ ë§¤í•‘ìœ¼ë¡œ í•¸ë“¤ëŸ¬ ì¡°íšŒ**1. `HandlerMapping` ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•´ì„œ, í•¸ë“¤ëŸ¬ë¥¼ ì°¾ëŠ”ë‹¤.2. ì´ ê²½ìš° ë¹ˆ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì•„ì•¼ í•˜ê¸° ë•Œë¬¸ì—               ì´ë¦„ ê·¸ëŒ€ë¡œ ë¹ˆ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì•„ì£¼ëŠ” `BeanNameUrlHandlerMapping` ê°€ ì‹¤í–‰ì— ì„±ê³µí•˜ê³             í•¸ë“¤ëŸ¬ì¸ `MyHttpRequestHandler` ë¥¼ ë°˜í™˜í•œë‹¤.**2. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì¡°íšŒ**1. `HandlerAdapter` ì˜ `supports()`ë¥¼ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œí•œë‹¤.2. `HttpRequestHandlerAdapter` ê°€ `HttpRequestHandler` ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§€ì›í•˜ë¯€ë¡œ ëŒ€ìƒì´ ëœë‹¤.**3. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì‹¤í–‰**1. ë””ìŠ¤íŒ¨ì²˜ ì„œë¸”ë¦¿ì´ ì¡°íšŒí•œ `HttpRequestHandlerAdapter` ë¥¼ ì‹¤í–‰í•˜ë©´ì„œ í•¸ë“¤ëŸ¬ ì •ë³´ë„ í•¨ê»˜ ë„˜ê²¨ì¤€ë‹¤.2. `HttpRequestHandlerAdapter` ëŠ” í•¸ë“¤ëŸ¬ì¸ `MyHttpRequestHandler` ë¥¼ ë‚´ë¶€ì—ì„œ ì‹¤í–‰í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.<br/>## âš¡ï¸ **ì •ë¦¬ - MyHttpRequestHandler í•¸ë“¤ëŸ¬ë§¤í•‘, ì–´ëŒ‘í„°**     MyHttpRequestHandler ë¥¼ ì‹¤í–‰í•˜ë©´ì„œ ì‚¬ìš©ëœ ê°ì²´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.     `HandlerMapping = BeanNameUrlHandlerMapping`      `HandlerAdapter = HttpRequestHandlerAdapter`<br/><br/>## âš¡ï¸ **@RequestMapping**      ê°€ì¥ **ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ëŠ”**         `RequestMappingHandlerMapping`, `RequestMappingHandlerAdapter` ì´ë‹¤.        `@RequestMapping`ì˜ ì•ê¸€ìë¥¼ ë”°ì„œ ë§Œë“  ì´ë¦„ì¸ë°,        ì´ê²ƒì´ ë°”ë¡œ ì§€ê¸ˆ ìŠ¤í”„ë§ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì§€ì›í•˜ëŠ” ë§¤í•‘ê³¼ ì–´ëŒ‘í„°ì´ë‹¤.        ì‹¤ë¬´ì—ì„œëŠ” 99.9% ì´ ë°©ì‹ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‚¬ìš©í•œë‹¤.         <br/><br/><br/># ğŸ’¡ ViewResolver## âš¡ï¸ ViewResolver ì„¤ì •**OldController - View ì¡°íšŒí•  ìˆ˜ ìˆë„ë¡ ë³€ê²½**```java@Component("/springmvc/old-controller")public class OldController implements Controller {    @Override    public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception {    System.out.println("OldController.handleRequest");        return new ModelAndView("new-form");    }}``````javareturn new ModelAndView("new-form");```ìœ„ ì½”ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‹¤ì œ ì ‘ê·¼ì‹œ `Whitelabel Error Page`ê°€ ë‚˜ì˜¤ê³ , ì½˜ì†”ì— `OldController.handleRequest`ì´ ì¶œë ¥ëœë‹¤.                   ì¦‰, ì´ì „ì— ë§Œë“¤ì—ˆë˜ **ViweResolverì™€ ê°™ì€ ë™ì‘ì´ Spring MVC ë‚´ë¶€ì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šì•˜ë‹¤ëŠ” ì–˜ê¸°ë‹¤****application.properties**```gradlespring.mvc.view.prefix=/WEB-INF/views/spring.mvc.view.suffix=.jsp```       ìœ„ì™€ ê°™ì€ ì„¤ì •ì„ ì¶”ê°€í•˜ë©´ ê·¸ì œì„œì•¼ ë™ì‘ì„ í•œë‹¤.          **ê·¸ë ‡ë‹¤ë©´ ì´ìœ ê°€ ë­˜ê¹Œ?ğŸ¤”*** ViewResolver - **InternalResourceViewResolver**```java@BeanViewResolver internalResourceViewResolver() {    return new InternalResourceViewResolver("/WEB-INF/views/", ".jsp");}```ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ `InternalResourceViewResolver`ë¼ëŠ” ë·° ë¦¬ì¡¸ë²„ë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ëŠ”ë°,                            ì´ë•Œ `application.propertiesì—` ë“±ë¡í•œ `spring.mvc.view.prefix`, `spring.mvc.view.suffix` ì„¤ì • ì •ë³´ë¥¼ ì‚¬ìš©í•´ì„œ ë“±ë¡í•œë‹¤.ì‚¬ì‹¤, ì´ ë¶€ë¶„ì€ ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ `AutoCofiguration`ìœ¼ë¡œ ì¸í•´ ì ìš©ë˜ëŠ” ê²ƒì´ê¸°ì—             **ìŠ¤í”„ë§ ë ˆê±°ì‹œë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë³„ë„ì˜ ë¹ˆì„ ë“±ë¡í•˜ê³  ì ìš©ì‹œì¼œì¤˜ì•¼ í•œë‹¤ëŠ” ì ë§Œ ì°¸ê³ í•˜ì.**```javareturn new ModelAndView("/WEB-INF/views/new-form.jsp");```    ì°¸ê³ ë¡œ ê¶Œì¥í•˜ì§€ëŠ” ì•Šì§€ë§Œ ì„¤ì • ì—†ì´ ë‹¤ìŒê³¼ ê°™ì´ ì „ì²´ ê²½ë¡œë¥¼ ì£¼ì–´ë„ ë™ì‘í•˜ê¸°ëŠ” í•œë‹¤.<br/><br/>## âš¡ï¸ ViewResolver ë™ì‘ ë°©ì‹**ìŠ¤í”„ë§ MVC êµ¬ì¡°**![spring-mvc](https://user-images.githubusercontent.com/50267433/127362651-fcf4a7ea-df62-4aef-a134-9317cc5e1ec0.PNG)Spring Boot ê°€ ìë™ ë“±ë¡í•˜ëŠ” ViewResolver ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.|ìš°ì„  ìˆœìœ„|ViewResolver|ì„¤ëª…|     |---------|------------|----|    |1|**BeanNameViewResolver**|ë¹ˆ ì´ë¦„ìœ¼ë¡œ ë·°ë¥¼ ì°¾ì•„ì„œ ë°˜í™˜í•œë‹¤. (ì˜ˆ: ì—‘ì…€ íŒŒì¼ ìƒì„± ê¸°ëŠ¥ì— ì‚¬ìš©)|    |2|**InternalResourceViewResolver**|JSPë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë·°ë¥¼ ë°˜í™˜í•œë‹¤.(ë‚´ë¶€ forward)|      ìœ„ ì½”ë“œê°€ JSP ê¸°ë°˜ì´ê¸°ì— `InternalResourceViewResolver`ê°€ ë“±ë¡ëœ ê²ƒì´ë‹¤.        ì¦‰, ë‹¤ë¥¸ í…œí”Œë¦¿ì— ëŒ€í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì˜ì¡´ ë°›ìœ¼ë©´ ë‹¤ë¥¸ `Resolver`ê°€ ë“±ë¡ëœë‹¤.             ì´ ì™¸ì—ë„ ë” ë§ì€ ë·° ë¦¬ì¡¸ë²„ê°€ ë“±ë¡ë˜ì–´ ìˆì§€ë§Œ, ì¤‘ìš”í•œ ë¶€ë¶„ ìœ„ì£¼ë¡œ ì„¤ëª…í•˜ê¸° ìœ„í•´ ì¼ë¶€ ìƒëµí–ˆë‹¤.**1. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° í˜¸ì¶œ**               í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ í†µí•´ `new-form` ì´ë¼ëŠ” ë…¼ë¦¬ ë·° ì´ë¦„ì„ íšë“í•œë‹¤.**2. ViewResolver í˜¸ì¶œ**                `new-form` ì´ë¼ëŠ” ë·° ì´ë¦„ìœ¼ë¡œ `viewResolver`ë¥¼ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œí•œë‹¤.               `BeanNameViewResolver`ëŠ” `new-form` ì´ë¼ëŠ” ì´ë¦„ì˜ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡ëœ ë·°ë¥¼ ì°¾ëŠ”ë‹¤.                     ë§Œì•½, `BeanNameViewResolver`ì´ ì—†ë‹¤ë©´ `InternalResourceViewResolver`ë¥¼ í˜¸ì¶œí•œë‹¤.**3. InternalResourceViewResolver**             JSPì™€ ê´€ë ¨ëœ ë·° ë¦¬ì¡¸ë²„ë¡œ JSPì™€ ê´€ë ¨ëœ `InternalResourceView` ë¥¼ ë°˜í™˜í•œë‹¤.- InternalResourceViewResolver ëŠ” ë‚´ë¶€ ìì›ì„ ì°¾ì•„ ì´ë™í•  ë•Œ ì‚¬ìš©ëœë‹¤.**4. View - InternalResourceView**         `InternalResourceView`ëŠ” JSP ì²˜ëŸ¼ í¬ì›Œë“œ `forward()`ë¥¼ í˜¸ì¶œí•´ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²½ìš°ì— ì‚¬ìš©í•œë‹¤.- `requestDispatcher.forward(request, response);`**5. view.render()**    `view.render()`ê°€ í˜¸ì¶œë˜ê³  `InternalResourceView` ëŠ” `forward()`ë¥¼ ì‚¬ìš©í•´ì„œ JSPë¥¼ ì‹¤í–‰í•œë‹¤.                      `InternalResourceView`ë¥¼ ê¸°ì¤€ìœ¼ë¡œëŠ” `renderMergeOuputModel()` ë©”ì„œë“œë‹¤.<br/><br/>> ### **ì°¸ê³ **                 > `InternalResourceViewResolver`ëŠ” ë§Œì•½ `JSTL` ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆìœ¼ë©´            > `InternalResourceView`ë¥¼ ìƒì†ë°›ì€ `JstlView`ë¥¼ ë°˜í™˜í•œë‹¤.                          > `JstlView`ëŠ” `JSTL`íƒœê·¸ ì‚¬ìš©ì‹œ ì•½ê°„ì˜ ë¶€ê°€ ê¸°ëŠ¥ì´ ì¶”ê°€ëœë‹¤.> ### **ì°¸ê³ **       > ë‹¤ë¥¸ ë·°ëŠ” ì‹¤ì œ ë·°ë¥¼ ë Œë”ë§í•˜ì§€ë§Œ        > JSPì˜ ê²½ìš° forward() í†µí•´ì„œ í•´ë‹¹ JSPë¡œ ì´ë™(ì‹¤í–‰)í•´ì•¼ ë Œë”ë§ì´ ëœë‹¤.                   > JSPë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ë·° í…œí”Œë¦¿ë“¤ì€ forward() ê³¼ì • ì—†ì´ ë°”ë¡œ ë Œë”ë§ ëœë‹¤.> ### **ì°¸ê³ **       > Thymeleaf ë·° í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ë©´ ThymeleafViewResolver ë¥¼ ë“±ë¡í•´ì•¼ í•œë‹¤.             > ìµœê·¼ì—ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì¶”ê°€í•˜ë©´ ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì´ëŸ° ì‘ì—…ë„ ëª¨ë‘ ìë™í™”í•´ì¤€ë‹¤. <br/><br/><br/># ğŸ’¡ ìŠ¤í”„ë§ MVC - ì‹œì‘í•˜ê¸°## âš¡ï¸ @RequestMapping* **RequestMappingHandlerMapping*** **RequestMappingHandlerAdapter**ìŠ¤í”„ë§ MVCì—ì„œ ê°€ì¥ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ `í•¸ë“¤ëŸ¬ ë§¤í•‘`ê³¼ `í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°`ëŠ”      **`RequestMappingHandlerMapping`, `RequestMappingHandlerAdapter`** ì´ë‹¤.ì´ë“¤ì€, **@RequestMapping** ê¸°ë°˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì§€ì›í•˜ëŠ” í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ ì–´ëŒ‘í„°ë¡œ       ì‹¤ë¬´ì—ì„œëŠ” 99.9% ì´ ë°©ì‹ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‚¬ìš©í•œë‹¤.```java@Controllerpublic class SpringMemberFormControllerV1 {       @RequestMapping("/springmvc/v1/members/new-form")    public ModelAndView process() {        return new ModelAndView("new-form");    }    }```     * **@Controller**   * ìŠ¤í”„ë§ì´ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤.          (ë‚´ë¶€ì— @Component ì• ë…¸í…Œì´ì…˜ì´ ìˆì–´ì„œ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì˜ ëŒ€ìƒì´ ë¨)   * Spring MVC ì—ì„œ ***ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ ì»¨íŠ¸ë¡¤ëŸ¬***ë¡œ ì¸ì‹í•œë‹¤.* **@RequestMapping**   * ***ìš”ì²­ ì •ë³´ë¥¼ ë§¤í•‘í•œë‹¤.***   * í•´ë‹¹ URLì´ í˜¸ì¶œë˜ë©´ ì´ ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤.   * ì• ë…¸í…Œì´ì…˜ì„ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì—, ë©”ì„œë“œì˜ ì´ë¦„ì€ ì„ì˜ë¡œ ì§€ìœ¼ë©´ ëœë‹¤.* **ModelAndView :**   * ëª¨ë¸ê³¼ ë·° ì •ë³´ë¥¼ ë‹´ì•„ì„œ ë°˜í™˜í•˜ë©´ ëœë‹¤.**í´ë˜ìŠ¤ì— `@Controller`** ë¥¼ ë¶™ì´ê³  **ë©”ì„œë“œ/í´ë˜ìŠ¤ ë ˆë²¨ì— `@RequestMapping`** ì„ ì„ ì–¸í•˜ë©´ ëœë‹¤.                            ì´ ê³¼ì •ì—ì„œ ë” ì´ìƒ `FrontController`ëŠ” ìƒì„±í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.<br/><br/>## âš¡ï¸ RequestMappingHandlerMapping```java@Override@Deprecatedprotected boolean isHandler(Class<?> beanType) {    return (AnnotatedElementUtils.hasAnnotation(beanType, Controller.class) ||             AnnotatedElementUtils.hasAnnotation(beanType, RequestMapping.class));}protected boolean isHandler(Class<?> beanType) {    return AnnotatedElementUtils.hasAnnotation(beanType, Controller.class);}```**RequestMappingHandlerMapping**ì˜ `isHandler()`ë¥¼ ë³´ë©´ ì¬ë°ŒëŠ”ì ì„ ì•Œ ìˆ˜ ìˆëŠ”ë°            ìŠ¤í”„ë§ `Bean` ì¤‘ì—ì„œ `@RequestMapping` ë˜ëŠ” `@Controller`ê°€ ë¶™ì€ **í´ë˜ìŠ¤ì˜ ë§¤í•‘ ì •ë³´ë¥¼ ì¸ì‹í•œë‹¤.**> ### ì£¼ì˜!!!> ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0(ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ 6.0)ë¶€í„°ëŠ” í´ë˜ìŠ¤ ë ˆë²¨ì— `@RequestMapping` ì´ ìˆì–´ë„ ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì¸ì‹í•˜ì§€ ì•ŠëŠ”ë‹¤. ì˜¤ì§ `@Controller` ê°€ ìˆì–´ì•¼ ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì¸ì‹í•œë‹¤. ì°¸ê³ ë¡œ `@RestController` ëŠ” í•´ë‹¹ ì•  ë…¸í…Œì´ì…˜ ë‚´ë¶€ì— `@Controller` ë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë¯€ë¡œ ì¸ì‹ ëœë‹¤. ë”°ë¼ì„œ `@Controller` ê°€ ì—†ëŠ” ìœ„ì˜ ë‘ ì½”ë“œëŠ” ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì¸ì‹ë˜ì§€ ì•ŠëŠ”ë‹¤. (`RequestMappingHandlerMapping` ì—ì„œ `@RequestMapping` ëŠ” ì´ì œ ì¸ì‹í•˜ì§€ ì•Šê³ , `Controller` ë§Œ ì¸ì‹í•œë‹¤.)<details><summary>class ë ˆë²¨ @RequestMapping ì‚¬ìš©ë°©ë²• ì˜ˆì‹œ (Spring Boot 3.0 ë¶€í„° ì‚¬ìš© ë¶ˆê°€!!!)</summary><div markdown="1">**ë°©ë²•1**```java@Component   @RequestMappingpublic class SpringMemberFormControllerV1 {      @RequestMapping("/springmvc/v1/members/new-form")    public ModelAndView process() {        return new ModelAndView("new-form");    }}```  **ë°©ë²•2**```java@RequestMappingpublic class SpringMemberFormControllerV1 {      @RequestMapping("/springmvc/v1/members/new-form")    public ModelAndView process() {        return new ModelAndView("new-form");    }    }``````java@Configurationpublic class TestConfiguration {        @Bean    TestController testController() {        return new TestController();    }    }```</div></details>~~ì´ë¡ ìƒ ìœ„ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œë„ ë¹ˆ ë“±ë¡í›„ Controllerë¡œì¨ ì‚¬ìš©ì€ ê°€ëŠ¥í•˜ì§€ë§Œ~~ <- Spring Boot 3.0 ë¶€í„° ì‚¬ìš© ë¶ˆê°€      Best PracticeëŠ” ì•„ë˜ì™€ ê°™ì´ `@Controller`ë¥¼ ì‚¬ìš©í•´ì„œ í´ë˜ìŠ¤ë¥¼ ê°„í¸í•˜ê²Œ ë§Œë“œëŠ” ê²ƒì´ë‹¤.### **Best Pratice**```java@Controllerpublic class SpringMemberFormControllerV1 {       @RequestMapping("/springmvc/v1/members/new-form")    public ModelAndView process() {        return new ModelAndView("new-form");    }    }```       ```java@Controllerpublic class SpringMemberSaveControllerV1 {        private MemberRepository memberRepository = MemberRepository.getInstance();        @RequestMapping("/springmvc/v1/members/save")    public ModelAndView process(HttpServletRequest request, HttpServletResponse response) {        String username = request.getParameter("username");        int age = Integer.parseInt(request.getParameter("age"));        Member member = new Member(username, age);                memberRepository.save(member);                ModelAndView mv = new ModelAndView("save-result");        mv.addObject("member", member);        return mv;    }}```ì°¸ê³ ë¡œ, ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ModelAndView ë¥¼ í†µí•´ Model ë°ì´í„°ë¥¼ ì¶”ê°€í•  ë•ŒëŠ”    addObject() ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ì´ ë°ì´í„°ëŠ” ì´í›„ ë·°ë¥¼ ë Œë”ë§ í•  ë•Œ ì‚¬ìš©ëœë‹¤.```javamv.addObject("member", member);```<br/><br/><br/># ğŸ’¡ ìŠ¤í”„ë§ MVC - ì»¨íŠ¸ë¡¤ëŸ¬ í†µí•©RequestHandlerMappingì€ `@RequestMapping`ì„ ê¸°ì¤€ìœ¼ë¡œë§Œ ë™ì‘ì„ í•œë‹¤.           `@RequestMapping`ì€ ì£¼ë¡œ ë©”ì„œë“œ ë‹¨ìœ„ì— ì ìš©ë˜ëŠ”ë°          ì´ë¥¼ í™œìš©í•˜ë©´ **í•˜ë‚˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ì—ì„œ ì—¬ëŸ¬ `@RequestMapping` ë©”ì„¸ë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.**```java@Controller@RequestMapping("/springmvc/v2/members")public class SpringMemberControllerV2 {    private MemberRepository memberRepository = MemberRepository.getInstance();    @RequestMapping("/new-form")    public ModelAndView newForm() {        return new ModelAndView("new-form");    }    @RequestMapping("/save")    public ModelAndView save(HttpServletRequest request, HttpServletResponse            response) {        String username = request.getParameter("username");        int age = Integer.parseInt(request.getParameter("age"));        Member member = new Member(username, age);        memberRepository.save(member);        ModelAndView mav = new ModelAndView("save-result");        mav.addObject("member", member);        return mav;    }    @RequestMapping    public ModelAndView members() {        List<Member> members = memberRepository.findAll();        ModelAndView mav = new ModelAndView("members");        mav.addObject("members", members);        return mav;    }}```í´ë˜ìŠ¤ ë ˆë²¨ì—ì„œë„ `@RequestMapping("/springmvc/v2/members")`ì„ ì„ ì–¸í•  ìˆ˜ ìˆëŠ”ë°         ì´ëŸ´ ê²½ìš° **í´ë˜ìŠ¤ ë ˆë²¨ ë§¤í•‘ ê²½ë¡œ**ì™€ **ë©”ì„œë“œ ë ˆë²¨ ë§¤í•‘ ê²½ë¡œ**ê°€ ì¡°í•©ëœë‹¤.**ì¡°í•© ê²°ê³¼*** í´ë˜ìŠ¤ ë ˆë²¨ `@RequestMapping("/springmvc/v2/members")`   * ë©”ì„œë“œ ë ˆë²¨ `@RequestMapping("/new-form")` -> `/springmvc/v2/members/new-form`   * ë©”ì„œë“œ ë ˆë²¨ `@RequestMapping("/save")` -> `/springmvc/v2/members/save`   * ë©”ì„œë“œ ë ˆë²¨ `@RequestMapping` -> `/springmvc/v2/members`<br/><br/><br/># ğŸ’¡ ìŠ¤í”„ë§ MVC - ì‹¤ìš©ì ì¸ ë°©ì‹ìŠ¤í”„ë§ MVC ëŠ” ê°œë°œìê°€ í¸ë¦¬í•˜ê²Œ ê°œë°œí•  ìˆ˜ ìˆë„ë¡ ìˆ˜ ë§ì€ í¸ì˜ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.  íŠ¹íˆ **í•¸ë“¤ëŸ¬ì— ì •ì˜ëœ ë©”ì„œë“œ íŒŒë¼ë¯¸í„° ë° ë°˜í™˜ê°’ì„ ìœ ì—°í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤.**      ì°¸ê³ ë¡œ SpringMVC ì˜ `Handler` ë€, `@RequestMapping`ì´ ì •ì˜ëœ **`Method`** ë¥¼ ì˜ë¯¸í•œë‹¤.(Servletì—ì„œëŠ” Controller ìì²´)## âš¡ï¸ ë³€ê²½ ì „```java@Controller@RequestMapping("/springmvc/v2/members")public class SpringMemberControllerV2 {    private MemberRepository memberRepository = MemberRepository.getInstance();    @RequestMapping("/new-form")    public ModelAndView newForm() {        return new ModelAndView("new-form");    }    @RequestMapping("/save")    public ModelAndView save(HttpServletRequest request, HttpServletResponse            response) {        String username = request.getParameter("username");        int age = Integer.parseInt(request.getParameter("age"));        Member member = new Member(username, age);        memberRepository.save(member);        ModelAndView mav = new ModelAndView("save-result");        mav.addObject("member", member);        return mav;    }    @RequestMapping    public ModelAndView members() {        List<Member> members = memberRepository.findAll();        ModelAndView mav = new ModelAndView("members");        mav.addObject("members", members);        return mav;    }}```   ## âš¡ï¸ ë³€ê²½ í›„```java@Controller@RequestMapping("/springmvc/v3/members")public class SpringMemberControllerV3 {        private MemberRepository memberRepository = MemberRepository.getInstance();        @GetMapping("/new-form")    public String newForm() {        return "new-form";    }        @PostMapping("/save")    public String save(            @RequestParam("username") String username,            @RequestParam("age") int age, Model model) {           Member member = new Member(username, age);       memberRepository.save(member);       model.addAttribute("member", member);       return "save-result";    }        @GetMapping    public String members(Model model) {        List<Member> members = memberRepository.findAll();        model.addAttribute("members", members);        return "members";    }}```<br/><br/>* **ModelAndView**   * ìŠ¤í”„ë§ì´ ì œê³µí•´ì£¼ëŠ” ModelAndView ê°ì²´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ê±°ë‚˜ ë°˜í™˜ê°’ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.* **Model**   * ìŠ¤í”„ë§ì´ ì œê³µí•´ì£¼ëŠ” Model ê°ì²´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤.   * ì£¼ë¡œ `addAttribute("key", value);`ë¥¼ í†µí•´ ê°’ì„ request ë²”ìœ„ë¡œ ì €ì¥í•œë‹¤.* **View**   * ë·° ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ êµ¬í˜„ì²´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ê±°ë‚˜ ë°˜í™˜ê°’ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.* **View ì´ë¦„ì„ String íƒ€ì…ìœ¼ë¡œ ì§ì ‘ ë°˜í™˜**   * ë·°ì˜ ë…¼ë¦¬ ì´ë¦„ì„ String íƒ€ì…ìœ¼ë¡œ ì§ì ‘ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.       **@RequestParam ì‚¬ìš©**   * HTTP ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ **@RequestParam**ìœ¼ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤.   * `@RequestParam("username")`ì€ `request.getParameter("username")`ì™€ ê±°ì˜ ê°™ì€ ì½”ë“œë‹¤.   * ë¬¼ë¡ , **GET ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°**, **POST Form ë°©ì‹**ì„ ëª¨ë‘ ì§€ì›í•œë‹¤.* **@RequestMapping -> @GetMapping, @PostMapping**   * **@RequestMappingì€ URLë§Œ ë§¤ì¹­í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, HTTP Methodë„ í•¨ê»˜ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.**      * `@RequestMapping(value = "/new-form", method = RequestMethod.GET)`   * ìŠ¤í”„ë§ 4.3ë¶€í„° `@GetMapping` , `@PostMapping`ìœ¼ë¡œ ë” í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   * ì°¸ê³ ë¡œ `Get`, `Post`, `Put`, `Delete`, `Patch` ëª¨ë‘ ì• ë…¸í…Œì´ì…˜ì´ ì¤€ë¹„ë˜ì–´ ìˆë‹¤.          